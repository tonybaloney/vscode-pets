/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/common/names.ts":
/*!*****************************!*\
  !*** ./src/common/names.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ROCKY_NAMES = exports.ZAPPY_NAMES = exports.DUCK_NAMES = exports.SNAKE_NAMES = exports.TOTORO_NAMES = exports.CLIPPY_NAMES = exports.CRAB_NAMES = exports.DOG_NAMES = exports.CAT_NAMES = exports.PET_NAMES = void 0;
exports.PET_NAMES = new Map([
    [1, 'Bella'],
    [2, 'Charlie'],
    [3, 'Max'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
    [11, 'Milo'],
    [12, 'Daisy'],
    [13, 'Archie'],
    [14, 'Ollie'],
    [15, 'Rosie'],
    [16, 'Lola'],
    [17, 'Frankie'],
    [18, 'Toby'],
    [19, 'Roxy'],
    [20, 'Poppy'],
    [21, 'Luna'],
    [22, 'Jack'],
    [23, 'Millie'],
    [24, 'Teddy'],
    [25, 'Harry'],
    [26, 'Cooper'],
    [27, 'Bear'],
    [28, 'Rocky'],
    [29, 'Alfie'],
    [30, 'Hugo'],
    [31, 'Bonnie'],
    [32, 'Pepper'],
    [33, 'Lily'],
    [34, 'Tilly'],
    [35, 'Leo'],
    [36, 'Maggie'],
    [37, 'George'],
    [38, 'Mia'],
    [39, 'Marley'],
    [40, 'Harley'],
    [41, 'Chloe'],
    [42, 'Lulu'],
    [43, 'Missy'],
    [44, 'Jasper'],
    [45, 'Billy'],
    [46, 'Nala'],
    [47, 'Monty'],
    [48, 'Ziggy'],
    [49, 'Winston'],
    [50, 'Zeus'],
    [51, 'Zoe'],
    [52, 'Stella'],
    [53, 'Sasha'],
    [54, 'Rusty'],
    [55, 'Gus'],
    [56, 'Baxter'],
    [57, 'Dexter'],
    [58, 'Diesel'],
    [59, 'Willow'],
    [60, 'Barney'],
    [61, 'Bruno'],
    [62, 'Penny'],
    [63, 'Honey'],
    [64, 'Milly'],
    [65, 'Murphy'],
    [66, 'Simba'],
    [67, 'Holly'],
    [68, 'Benji'],
    [69, 'Henry'],
    [70, 'Lilly'],
    [71, 'Pippa'],
    [72, 'Shadow'],
    [73, 'Sam'],
    [74, 'Buster'],
    [75, 'Lucky'],
    [76, 'Ellie'],
    [77, 'Duke'],
    [78, 'Jessie'],
    [79, 'Cookie'],
    [80, 'Harvey'],
    [81, 'Bruce'],
    [82, 'Jax'],
    [83, 'Rex'],
    [84, 'Louie'],
    [85, 'Bentley'],
    [86, 'Jet'],
    [87, 'Banjo'],
    [88, 'Beau'],
    [89, 'Ella'],
    [90, 'Ralph'],
    [91, 'Loki'],
    [92, 'Lexi'],
    [93, 'Chester'],
    [94, 'Sophie'],
    [95, 'Chilli'],
    [96, 'Billie'],
    [97, 'Louis'],
    [98, 'Scout'],
    [99, 'Charlie'],
    [100, 'Cleo'],
    [101, 'Purfect'],
    [102, 'Spot'],
    [103, 'Harry'],
    [104, 'Bolt'],
]);
exports.CAT_NAMES = exports.PET_NAMES;
exports.DOG_NAMES = exports.PET_NAMES;
exports.CRAB_NAMES = new Map([
    [1, 'Ferris'],
    [2, 'Pinchy'],
    [3, 'Grabby'],
    [4, 'Big Red'],
    [5, 'Crabby'],
    [6, 'Buddy'],
    [7, 'Ruby Red'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.CLIPPY_NAMES = new Map([
    [1, 'Clippy'],
    [2, 'Karl Klammer'],
    [3, 'Clippy Jr.'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.TOTORO_NAMES = new Map([
    [1, 'Totoro'],
    [2, 'ãƒˆãƒˆãƒ­'],
    [3, 'Max'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.SNAKE_NAMES = new Map([
    [1, 'Sneaky'],
    [2, 'Mr Slippery'],
    [3, 'Max'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.DUCK_NAMES = new Map([
    [1, 'Quacky'],
    [2, 'Floaty'],
    [3, 'Duck'],
    [4, 'Molly'],
    [5, 'Sunshine'],
    [6, 'Buddy'],
    [7, 'Chirpy'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.ZAPPY_NAMES = new Map([
    [1, 'Zappy'],
    [2, 'Zippy'],
    [3, 'Zappy Jr.'],
    [4, 'Zoppy'],
    [5, 'Zuppy'],
    [6, 'Zeppy'],
    [7, 'Big Z'],
    [8, 'Little z'],
    [9, 'The Flash'],
    [10, 'Thor'],
]);
exports.ROCKY_NAMES = new Map([
    [1, 'Rocky'],
    [2, 'The Rock'],
    [3, 'Quartzy'],
    [4, 'Rocky I'],
    [5, 'Rocky II'],
    [6, 'Rocky III'],
    [7, 'Pebbles Sr.'],
    [8, 'Big Granite'],
    [9, 'Boulder'],
    [10, 'Rockefeller'],
]);


/***/ }),

/***/ "./src/panel/designer.ts":
/*!*******************************!*\
  !*** ./src/panel/designer.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.initializeDesigner = void 0;
class RGB {
    constructor(r, g, b) {
        this.r = r;
        this.g = g;
        this.b = b;
    }
}
class Substitution {
    constructor(original, new_) {
        this.original = original;
        this.new = new_;
    }
}
var substitutions = new Array();
function initializeDesigner(uri) {
    var img = new Image();
    img.crossOrigin = 'anonymous';
    img.src = `${uri}/dog/black_idle_8fps.gif`;
    var canvas = document.getElementById('original-canvas');
    var newCanvas = document.getElementById('new-canvas');
    var ctx = canvas.getContext('2d');
    var newCtx = newCanvas.getContext('2d');
    img.onload = function () {
        ctx.drawImage(img, 0, 0);
        img.style.display = 'none';
        newCtx.drawImage(img, 0, 0);
        var uniqueColors = new Array();
        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        const data = imageData.data;
        for (var i = 0; i < data.length; i += 4) {
            var found = false;
            for (var j = 0; j < uniqueColors.length; j++) {
                if (uniqueColors[j].r === data[i] &&
                    uniqueColors[j].g === data[i + 1] &&
                    uniqueColors[j].b === data[i + 2]) {
                    found = true;
                    break;
                }
            }
            if (!found) {
                uniqueColors.push({ r: data[i], g: data[i + 1], b: data[i + 2] });
            }
        }
        var subList = document.getElementById('substitutions-list');
        for (var i = 0; i < uniqueColors.length; i++) {
            var color = uniqueColors[i];
            var newColor = document.createElement('input');
            newColor.type = 'color';
            newColor.value = rgbToHex(color.r, color.g, color.b);
            newColor.id = i.toString();
            newColor.addEventListener('change', function () {
                var id = parseInt(this.id);
                substitutions[id].new = hexToRgb(this.value);
                drawImage();
            });
            subList.appendChild(newColor);
            substitutions.push({ original: color, new: color });
        }
        drawImage();
    };
}
exports.initializeDesigner = initializeDesigner;
function componentToHex(c) {
    var hex = c.toString(16);
    return hex.length === 1 ? "0" + hex : hex;
}
function rgbToHex(r, g, b) {
    return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
}
function hexToRgb(hex) {
    var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return {
        r: parseInt(result[1], 16),
        g: parseInt(result[2], 16),
        b: parseInt(result[3], 16)
    };
}
function drawImage() {
    var canvas = document.getElementById('original-canvas');
    var newCanvas = document.getElementById('new-canvas');
    var ctx = canvas.getContext('2d');
    var newCtx = newCanvas.getContext('2d');
    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
    const data = imageData.data;
    for (var i = 0; i < data.length; i += 4) {
        for (var j = 0; j < substitutions.length; j++) {
            if (substitutions[j].original.r === data[i] &&
                substitutions[j].original.g === data[i + 1] &&
                substitutions[j].original.b === data[i + 2]) {
                data[i] = substitutions[j].new.r; // red
                data[i + 1] = substitutions[j].new.g; // green
                data[i + 2] = substitutions[j].new.b; // blue
            }
        }
    }
    newCtx.putImageData(imageData, 0, 0);
}


/***/ }),

/***/ "./src/panel/main.ts":
/*!***************************!*\
  !*** ./src/panel/main.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.petPanelApp = exports.saveState = exports.allPets = void 0;
const designer_1 = __webpack_require__(/*! ./designer */ "./src/panel/designer.ts");
const pets_1 = __webpack_require__(/*! ./pets */ "./src/panel/pets.ts");
const states_1 = __webpack_require__(/*! ./states */ "./src/panel/states.ts");
const vscode = window.acquireVsCodeApi();
exports.allPets = new pets_1.PetCollection();
var petCounter;
function calculateBallRadius(size) {
    if (size === "nano" /* nano */) {
        return 2;
    }
    else if (size === "medium" /* medium */) {
        return 4;
    }
    else if (size === "large" /* large */) {
        return 8;
    }
    else {
        return 1; // Shrug
    }
}
function calculateFloor(size, theme) {
    switch (theme) {
        case "forest" /* forest */:
            switch (size) {
                case "medium" /* medium */:
                    return 40;
                case "large" /* large */:
                    return 65;
                case "nano" /* nano */:
                default:
                    return 23;
            }
        case "castle" /* castle */:
            switch (size) {
                case "medium" /* medium */:
                    return 80;
                case "large" /* large */:
                    return 120;
                case "nano" /* nano */:
                default:
                    return 45;
            }
    }
    return 0;
}
function handleMouseOver(e) {
    var el = e.currentTarget;
    exports.allPets.pets().forEach((element) => {
        if (element.collision === el) {
            if (!element.pet.canSwipe()) {
                return;
            }
            element.pet.swipe();
        }
    });
}
function startAnimations(collision, pet) {
    collision.addEventListener('mouseover', handleMouseOver);
    setInterval(() => {
        var updates = exports.allPets.seekNewFriends();
        updates.forEach((message) => {
            vscode.postMessage({
                text: message,
                command: 'info',
            });
        });
        pet.nextFrame();
        saveState();
    }, 100);
}
function addPetToPanel(petType, basePetUri, petColor, petSize, left, bottom, floor, name) {
    var petSpriteElement = document.createElement('img');
    petSpriteElement.className = 'pet';
    document.getElementById('petsContainer').appendChild(petSpriteElement);
    var collisionElement = document.createElement('div');
    collisionElement.className = 'collision';
    document.getElementById('petsContainer').appendChild(collisionElement);
    const root = basePetUri + '/' + petType + '/' + petColor;
    console.log('Creating new pet : ', petType, root);
    var newPet = pets_1.createPet(petType, petSpriteElement, collisionElement, petSize, left, bottom, root, floor, name);
    petCounter++;
    startAnimations(collisionElement, newPet);
    return new pets_1.PetElement(petSpriteElement, collisionElement, newPet, petColor, petType);
}
function removePetFromPanel(pet) {
    pet.collision.removeEventListener('mouseover', handleMouseOver);
    document.getElementById('petsContainer').removeChild(pet.collision);
    pet.collision.remove();
    pet.remove();
}
function saveState() {
    var state = new states_1.PetPanelState();
    state.petStates = new Array();
    exports.allPets.pets().forEach((petItem) => {
        state.petStates.push({
            petName: petItem.pet.name(),
            petColor: petItem.color,
            petType: petItem.type,
            petState: petItem.pet.getState(),
            petFriend: petItem.pet.friend()
                ? petItem.pet.friend().name()
                : undefined,
            elLeft: petItem.el.style.left,
            elBottom: petItem.el.style.bottom,
        });
    });
    state.petCounter = petCounter;
    vscode.setState(state);
}
exports.saveState = saveState;
function recoverState(basePetUri, petSize, floor) {
    var state = vscode.getState();
    if (state.petCounter === undefined || isNaN(state.petCounter)) {
        petCounter = 1;
    }
    else {
        petCounter = state.petCounter;
    }
    var recoveryMap = new Map();
    state.petStates.forEach((p) => {
        // Fixes a bug related to duck animations
        if (p.petType === 'rubber duck') {
            p.petType = 'rubber-duck';
        }
        try {
            var newPet = addPetToPanel(p.petType, basePetUri, p.petColor, petSize, parseInt(p.elLeft), parseInt(p.elBottom), floor, p.petName);
            exports.allPets.push(newPet);
            recoveryMap.set(newPet.pet, p);
        }
        catch (InvalidPetException) {
            console.log('State had invalid pet (' + p.petType + '), discarding.');
        }
    });
    recoveryMap.forEach((state, pet) => {
        // Recover previous state.
        pet.recoverState(state.petState);
        // Resolve friend relationships
        var friend = undefined;
        if (state.petFriend) {
            friend = exports.allPets.locate(state.petFriend);
            if (friend) {
                pet.recoverFriend(friend.pet);
            }
        }
    });
}
function randomStartPosition() {
    return Math.floor(Math.random() * (window.innerWidth * 0.7));
}
let canvas, ctx;
function initCanvas() {
    canvas = document.getElementById('petCanvas');
    ctx = canvas.getContext('2d');
    ctx.canvas.width = window.innerWidth;
    ctx.canvas.height = window.innerHeight;
}
// It cannot access the main VS Code APIs directly.
function petPanelApp(basePetUri, theme, themeKind, petColor, petSize, petType) {
    const ballRadius = calculateBallRadius(petSize);
    var floor = 0;
    // Apply Theme backgrounds
    if (theme !== "none" /* none */) {
        var _themeKind = '';
        switch (themeKind) {
            case 2 /* dark */:
                _themeKind = 'dark';
                break;
            case 1 /* light */:
                _themeKind = 'light';
                break;
            case 3 /* highContrast */:
            default:
                _themeKind = 'light';
                break;
        }
        document.getElementById('main').style.backgroundImage = `url('${basePetUri}/backgrounds/${theme}/background-${_themeKind}-${petSize}.png')`;
        document.getElementById('foreground').style.backgroundImage = `url('${basePetUri}/backgrounds/${theme}/foreground-${_themeKind}-${petSize}.png')`;
        floor = calculateFloor(petSize, theme); // Themes have pets at a specified height from the ground
    }
    else {
        document.getElementById('main').style.backgroundImage = '';
        document.getElementById('foreground').style.backgroundImage = '';
    }
    /// Bouncing ball components, credit https://stackoverflow.com/a/29982343
    const gravity = 0.2, damping = 0.9, traction = 0.8;
    var ballState;
    function resetBall() {
        canvas.style.display = 'block';
        ballState = new states_1.BallState(100, 100, 2, 5);
    }
    function throwBall() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (!ballState.paused) {
            requestAnimationFrame(throwBall);
        }
        if (ballState.cx + ballRadius >= canvas.width) {
            ballState.vx = -ballState.vx * damping;
            ballState.cx = canvas.width - ballRadius;
        }
        else if (ballState.cx - ballRadius <= 0) {
            ballState.vx = -ballState.vx * damping;
            ballState.cx = ballRadius;
        }
        if (ballState.cy + ballRadius + floor >= canvas.height) {
            ballState.vy = -ballState.vy * damping;
            ballState.cy = canvas.height - ballRadius - floor;
            // traction here
            ballState.vx *= traction;
        }
        else if (ballState.cy - ballRadius <= 0) {
            ballState.vy = -ballState.vy * damping;
            ballState.cy = ballRadius;
        }
        ballState.vy += gravity;
        ballState.cx += ballState.vx;
        ballState.cy += ballState.vy;
        ctx.beginPath();
        ctx.arc(ballState.cx, ballState.cy, ballRadius, 0, 2 * Math.PI, false);
        ctx.fillStyle = '#2ed851';
        ctx.fill();
    }
    console.log('Starting pet session', petColor, basePetUri, petType);
    // New session
    var state = vscode.getState();
    if (!state) {
        console.log('No state, starting a new session.');
        petCounter = 1;
        exports.allPets.push(addPetToPanel(petType, basePetUri, petColor, petSize, randomStartPosition(), floor, floor, undefined));
        saveState();
    }
    else {
        console.log('Recovering state - ', state);
        recoverState(basePetUri, petSize, floor);
    }
    initCanvas();
    // Handle messages sent from the extension to the webview
    window.addEventListener('message', (event) => {
        const message = event.data; // The json data that the extension sent
        switch (message.command) {
            case 'throw-ball':
                resetBall();
                throwBall();
                exports.allPets.pets().forEach((petEl) => {
                    if (petEl.pet.canChase()) {
                        petEl.pet.chase(ballState, canvas);
                    }
                });
                break;
            case 'spawn-pet':
                exports.allPets.push(addPetToPanel(message.type, basePetUri, message.color, petSize, randomStartPosition(), floor, floor, undefined));
                saveState();
                break;
            case 'delete-pet':
                var pet = exports.allPets.locate(message.id);
                if (pet) {
                    pet.remove();
                    saveState();
                }
                break;
            case 'reset-pet':
                exports.allPets.pets().forEach((pet) => {
                    pet.el.remove();
                    pet.collision.remove();
                });
                exports.allPets.reset();
                exports.allPets.push(addPetToPanel(petType, basePetUri, petColor, petSize, randomStartPosition(), floor, floor, undefined));
                petCounter = 1;
                saveState();
                break;
            case 'pause-pet':
                petCounter = 1;
                saveState();
                break;
            case 'design-pet':
                document.getElementById('main').style.display = "none";
                document.getElementById('designer').style.display = "block";
                designer_1.initializeDesigner(basePetUri);
                break;
        }
    });
}
exports.petPanelApp = petPanelApp;
window.addEventListener('resize', function () {
    initCanvas();
});


/***/ }),

/***/ "./src/panel/pets.ts":
/*!***************************!*\
  !*** ./src/panel/pets.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createPet = exports.InvalidPetException = exports.Rocky = exports.Zappy = exports.Crab = exports.RubberDuck = exports.Clippy = exports.Snake = exports.Dog = exports.Cat = exports.Totoro = exports.PetCollection = exports.PetElement = exports.InvalidStateException = void 0;
const states_1 = __webpack_require__(/*! ./states */ "./src/panel/states.ts");
const names_1 = __webpack_require__(/*! ../common/names */ "./src/common/names.ts");
class InvalidStateException {
}
exports.InvalidStateException = InvalidStateException;
class PetElement {
    constructor(el, collision, pet, color, type) {
        this.el = el;
        this.collision = collision;
        this.pet = pet;
        this.color = color;
        this.type = type;
    }
    remove() {
        this.el.remove();
        this.collision.remove();
        this.color = "null" /* null */;
        this.type = "null" /* null */;
    }
}
exports.PetElement = PetElement;
class PetCollection {
    constructor() {
        this._pets = new Array(0);
    }
    pets() {
        return this._pets;
    }
    push(pet) {
        this._pets.push(pet);
    }
    reset() {
        this._pets = [];
    }
    locate(name) {
        return this._pets.find((collection, value, obj) => {
            return collection.pet.name() === name;
        });
    }
    remove(name) {
        for (var i = 0; i < this._pets.length; i++) {
            if (this._pets[i].pet.name() === name) {
                this._pets.splice(i, 1);
            }
        }
        this._pets.forEach((pet) => {
            if (pet.pet.name() === name) {
                pet.remove();
            }
        });
    }
    seekNewFriends() {
        if (this._pets.length <= 1) {
            return [];
        } // You can't be friends with yourself.
        var messages = new Array(0);
        this._pets.forEach((petInCollection) => {
            if (petInCollection.pet.hasFriend()) {
                return;
            } // I already have a friend!
            this._pets.forEach((potentialFriend) => {
                if (potentialFriend.pet.hasFriend()) {
                    return;
                } // Already has a friend. sorry.
                if (!potentialFriend.pet.canChase()) {
                    return;
                } // Pet is busy doing something else.
                if (potentialFriend.pet.left() > petInCollection.pet.left() &&
                    potentialFriend.pet.left() <
                        petInCollection.pet.left() + petInCollection.pet.width()) {
                    // We found a possible new friend..
                    console.log(petInCollection.pet.name(), ' wants to be friends with ', potentialFriend.pet.name(), '.');
                    if (petInCollection.pet.makeFriendsWith(potentialFriend.pet)) {
                        messages.push(`${petInCollection.pet.name()} (${petInCollection.pet.emoji()}): I'm now friends â¤ï¸ with ${potentialFriend.pet.name()} (${potentialFriend.pet.emoji()})`);
                    }
                }
            });
        });
        return messages;
    }
}
exports.PetCollection = PetCollection;
function calculateSpriteWidth(size) {
    if (size === "nano" /* nano */) {
        return 30;
    }
    else if (size === "medium" /* medium */) {
        return 55;
    }
    else if (size === "large" /* large */) {
        return 110;
    }
    else {
        return 30; // Shrug
    }
}
class BasePetType {
    constructor(spriteElement, collisionElement, size, left, bottom, petRoot, floor, name, speed) {
        this.label = 'base';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [],
        };
        this.el = spriteElement;
        this.collision = collisionElement;
        this.petRoot = petRoot;
        this._floor = floor;
        this._left = left;
        this._bottom = bottom;
        this.initSprite(size, left, bottom);
        this.currentStateEnum = this.sequence.startingState;
        this.currentState = states_1.resolveState(this.currentStateEnum, this);
        this._name = name;
        this._speed = speed;
        // Increment the static count of the Pet class that the constructor belongs to
        this.constructor.count += 1;
    }
    initSprite(petSize, left, bottom) {
        this.el.style.left = `${left}px`;
        this.el.style.bottom = `${bottom}px`;
        this.el.style.width = 'auto';
        this.el.style.height = 'auto';
        this.el.style.maxWidth = `${calculateSpriteWidth(petSize)}px`;
        this.el.style.maxHeight = `${calculateSpriteWidth(petSize)}px`;
        this.collision.style.left = `${left}px`;
        this.collision.style.bottom = `${bottom}px`;
        this.collision.style.width = `${calculateSpriteWidth(petSize)}px`;
        this.collision.style.height = `${calculateSpriteWidth(petSize)}px`;
    }
    left() {
        return this._left;
    }
    bottom() {
        return this._bottom;
    }
    positionBottom(bottom) {
        this._bottom = bottom;
        this.el.style.bottom = `${this._bottom}px`;
        this.el.style.bottom = `${this._bottom}px`;
        this.collision.style.left = `${this._left}px`;
        this.collision.style.bottom = `${this._bottom}px`;
    }
    positionLeft(left) {
        this._left = left;
        this.el.style.left = `${this._left}px`;
        this.el.style.left = `${this._left}px`;
        this.collision.style.left = `${this._left}px`;
        this.collision.style.bottom = `${this._bottom}px`;
    }
    width() {
        return this.el.width;
    }
    floor() {
        return this._floor;
    }
    getState() {
        return { currentStateEnum: this.currentStateEnum };
    }
    speed() {
        return this._speed;
    }
    isMoving() {
        return this._speed !== 0 /* still */;
    }
    recoverFriend(friend) {
        // Recover friends..
        this._friend = friend;
    }
    recoverState(state) {
        // TODO : Resolve a bug where if it was swiping before, it would fail
        // because holdState is no longer valid.
        this.currentStateEnum = state.currentStateEnum;
        this.currentState = states_1.resolveState(this.currentStateEnum, this);
        if (!states_1.isStateAboveGround(this.currentStateEnum)) {
            // Reset the bottom of the sprite to the floor as the theme
            // has likely changed.
            this.positionBottom(this.floor());
        }
    }
    canSwipe() {
        return !states_1.isStateAboveGround(this.currentStateEnum);
    }
    canChase() {
        return (!states_1.isStateAboveGround(this.currentStateEnum) &&
            this.currentStateEnum !== "chase" /* chase */ &&
            this.isMoving());
    }
    swipe() {
        if (this.currentStateEnum === "swipe" /* swipe */) {
            return;
        }
        this.holdState = this.currentState;
        this.holdStateEnum = this.currentStateEnum;
        this.currentStateEnum = "swipe" /* swipe */;
        this.currentState = states_1.resolveState(this.currentStateEnum, this);
    }
    chase(ballState, canvas) {
        this.currentStateEnum = "chase" /* chase */;
        this.currentState = new states_1.ChaseState(this, ballState, canvas);
    }
    faceLeft() {
        this.el.style.transform = 'scaleX(-1)';
    }
    faceRight() {
        this.el.style.transform = 'scaleX(1)';
    }
    setAnimation(face) {
        if (this.el.src.endsWith(`_${face}_8fps.gif`)) {
            return;
        }
        this.el.src = `${this.petRoot}_${face}_8fps.gif`;
    }
    chooseNextState(fromState) {
        // Work out next state
        var possibleNextStates = undefined;
        for (var i = 0; i < this.sequence.sequenceStates.length; i++) {
            if (this.sequence.sequenceStates[i].state === fromState) {
                possibleNextStates =
                    this.sequence.sequenceStates[i].possibleNextStates;
            }
        }
        if (!possibleNextStates) {
            throw new InvalidStateException();
        }
        // randomly choose the next state
        const idx = Math.floor(Math.random() * possibleNextStates.length);
        return possibleNextStates[idx];
    }
    nextFrame() {
        if (this.currentState.horizontalDirection === states_1.HorizontalDirection.left) {
            this.faceLeft();
        }
        else if (this.currentState.horizontalDirection === states_1.HorizontalDirection.right) {
            this.faceRight();
        }
        this.setAnimation(this.currentState.spriteLabel);
        // What's my buddy doing?
        if (this.hasFriend() &&
            this.currentStateEnum !== "chase-friend" /* chaseFriend */ &&
            this.isMoving()) {
            if (this.friend().isPlaying() &&
                !states_1.isStateAboveGround(this.currentStateEnum)) {
                this.currentState = states_1.resolveState("chase-friend" /* chaseFriend */, this);
                this.currentStateEnum = "chase-friend" /* chaseFriend */;
                return;
            }
        }
        var frameResult = this.currentState.nextFrame();
        if (frameResult === states_1.FrameResult.stateComplete) {
            // If recovering from swipe..
            if (this.holdState && this.holdStateEnum) {
                this.currentState = this.holdState;
                this.currentStateEnum = this.holdStateEnum;
                this.holdState = undefined;
                this.holdStateEnum = undefined;
                return;
            }
            var nextState = this.chooseNextState(this.currentStateEnum);
            this.currentState = states_1.resolveState(nextState, this);
            this.currentStateEnum = nextState;
        }
        else if (frameResult === states_1.FrameResult.stateCancel) {
            if (this.currentStateEnum === "chase" /* chase */) {
                var nextState = this.chooseNextState("idle-with-ball" /* idleWithBall */);
                this.currentState = states_1.resolveState(nextState, this);
                this.currentStateEnum = nextState;
            }
            else if (this.currentStateEnum === "chase-friend" /* chaseFriend */) {
                var nextState = this.chooseNextState("idle-with-ball" /* idleWithBall */);
                this.currentState = states_1.resolveState(nextState, this);
                this.currentStateEnum = nextState;
            }
        }
    }
    hasFriend() {
        return this._friend !== undefined;
    }
    friend() {
        return this._friend;
    }
    name() {
        return this._name;
    }
    makeFriendsWith(friend) {
        this._friend = friend;
        console.log(this.name(), ": I'm now friends â¤ï¸ with ", friend.name());
        return true;
    }
    isPlaying() {
        return (this.isMoving() &&
            (this.currentStateEnum === "run-right" /* runRight */ ||
                this.currentStateEnum === "run-left" /* runLeft */));
    }
    emoji() {
        return 'ðŸ¶';
    }
}
BasePetType.count = 0;
class Totoro extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = 'totoro';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "lie" /* lie */],
                },
                {
                    state: "lie" /* lie */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */],
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "sit-idle" /* sitIdle */],
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: [
                        "sit-idle" /* sitIdle */,
                        "climb-wall-left" /* climbWallLeft */,
                        "sit-idle" /* sitIdle */,
                    ],
                },
                {
                    state: "climb-wall-left" /* climbWallLeft */,
                    possibleNextStates: ["wall-hang-left" /* wallHangLeft */],
                },
                {
                    state: "wall-hang-left" /* wallHangLeft */,
                    possibleNextStates: ["jump-down-left" /* jumpDownLeft */],
                },
                {
                    state: "jump-down-left" /* jumpDownLeft */,
                    possibleNextStates: ["land" /* land */],
                },
                {
                    state: "land" /* land */,
                    possibleNextStates: [
                        "sit-idle" /* sitIdle */,
                        "walk-right" /* walkRight */,
                        "lie" /* lie */,
                    ],
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */],
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */],
                },
            ],
        };
    }
    emoji() {
        return 'ðŸ¾';
    }
}
exports.Totoro = Totoro;
class Cat extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = 'cat';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */],
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: [
                        "sit-idle" /* sitIdle */,
                        "climb-wall-left" /* climbWallLeft */,
                        "walk-right" /* walkRight */,
                        "run-right" /* runRight */,
                    ],
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: [
                        "sit-idle" /* sitIdle */,
                        "climb-wall-left" /* climbWallLeft */,
                        "walk-right" /* walkRight */,
                        "run-right" /* runRight */,
                    ],
                },
                {
                    state: "climb-wall-left" /* climbWallLeft */,
                    possibleNextStates: ["wall-hang-left" /* wallHangLeft */],
                },
                {
                    state: "wall-hang-left" /* wallHangLeft */,
                    possibleNextStates: ["jump-down-left" /* jumpDownLeft */],
                },
                {
                    state: "jump-down-left" /* jumpDownLeft */,
                    possibleNextStates: ["land" /* land */],
                },
                {
                    state: "land" /* land */,
                    possibleNextStates: [
                        "sit-idle" /* sitIdle */,
                        "walk-right" /* walkRight */,
                        "run-right" /* runRight */,
                    ],
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */],
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: [
                        "walk-right" /* walkRight */,
                        "walk-left" /* walkLeft */,
                        "run-left" /* runLeft */,
                        "run-right" /* runRight */,
                    ],
                },
            ],
        };
    }
    emoji() {
        return 'ðŸ±';
    }
}
exports.Cat = Cat;
class Dog extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = 'dog';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: [
                        "walk-right" /* walkRight */,
                        "run-right" /* runRight */,
                        "lie" /* lie */,
                    ],
                },
                {
                    state: "lie" /* lie */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */],
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: [
                        "sit-idle" /* sitIdle */,
                        "lie" /* lie */,
                        "walk-right" /* walkRight */,
                        "run-right" /* runRight */,
                    ],
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: [
                        "sit-idle" /* sitIdle */,
                        "lie" /* lie */,
                        "walk-right" /* walkRight */,
                        "run-right" /* runRight */,
                    ],
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */],
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: [
                        "walk-right" /* walkRight */,
                        "walk-left" /* walkLeft */,
                        "run-left" /* runLeft */,
                        "run-right" /* runRight */,
                    ],
                },
            ],
        };
    }
    emoji() {
        return 'ðŸ¶';
    }
}
exports.Dog = Dog;
class Snake extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = 'snake';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */],
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: [
                        "sit-idle" /* sitIdle */,
                        "walk-right" /* walkRight */,
                        "run-right" /* runRight */,
                    ],
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: [
                        "sit-idle" /* sitIdle */,
                        "walk-right" /* walkRight */,
                        "run-right" /* runRight */,
                    ],
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */],
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: [
                        "walk-right" /* walkRight */,
                        "walk-left" /* walkLeft */,
                        "run-left" /* runLeft */,
                        "run-right" /* runRight */,
                    ],
                },
            ],
        };
    }
    emoji() {
        return 'ðŸ';
    }
}
exports.Snake = Snake;
class Clippy extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = 'clippy';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */],
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */],
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */],
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */],
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: [
                        "walk-right" /* walkRight */,
                        "walk-left" /* walkLeft */,
                        "run-left" /* runLeft */,
                        "run-right" /* runRight */,
                    ],
                },
            ],
        };
    }
    emoji() {
        return 'ðŸ“Ž';
    }
}
exports.Clippy = Clippy;
class RubberDuck extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = 'rubber-duck';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */],
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */],
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */],
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */],
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: [
                        "walk-right" /* walkRight */,
                        "walk-left" /* walkLeft */,
                        "run-left" /* runLeft */,
                        "run-right" /* runRight */,
                    ],
                },
            ],
        };
    }
    emoji() {
        return 'ðŸ¥';
    }
}
exports.RubberDuck = RubberDuck;
class Crab extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = 'crab';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */],
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */],
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */],
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */],
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: [
                        "walk-right" /* walkRight */,
                        "walk-left" /* walkLeft */,
                        "run-left" /* runLeft */,
                        "run-right" /* runRight */,
                    ],
                },
            ],
        };
    }
    emoji() {
        return 'ðŸ¦€';
    }
}
exports.Crab = Crab;
class Zappy extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = 'zappy';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */],
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */],
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */],
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */],
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */],
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: [
                        "walk-right" /* walkRight */,
                        "walk-left" /* walkLeft */,
                        "run-left" /* runLeft */,
                        "run-right" /* runRight */,
                    ],
                },
            ],
        };
    }
    emoji() {
        return 'âš¡';
    }
}
exports.Zappy = Zappy;
class Rocky extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = 'rocky';
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */],
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "run-right" /* runRight */],
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "walk-right" /* walkRight */],
                },
            ],
        };
    }
    emoji() {
        return 'ðŸ’Ž';
    }
    canChase() {
        return false;
    }
}
exports.Rocky = Rocky;
class InvalidPetException {
}
exports.InvalidPetException = InvalidPetException;
function getPetName(collection, label, count) {
    if (collection.has(count)) {
        return collection.get(count);
    }
    else {
        return label + count;
    }
}
function createPet(petType, el, collision, size, left, bottom, petRoot, floor, name) {
    if (petType === 'totoro') {
        if (name === undefined) {
            name = getPetName(names_1.TOTORO_NAMES, "totoro" /* totoro */, Totoro.count + 1);
        }
        return new Totoro(el, collision, size, left, bottom, petRoot, floor, name, 3 /* normal */);
    }
    if (petType === 'cat') {
        if (name === undefined) {
            name = getPetName(names_1.CAT_NAMES, "cat" /* cat */, Cat.count + Dog.count + 1);
        } // Cat and dog share the same name list
        return new Cat(el, collision, size, left, bottom, petRoot, floor, name, 3 /* normal */);
    }
    else if (petType === 'dog') {
        if (name === undefined) {
            name = getPetName(names_1.DOG_NAMES, "dog" /* dog */, Dog.count + Cat.count + 1);
        } // Cat and dog share the same name list
        return new Dog(el, collision, size, left, bottom, petRoot, floor, name, 3 /* normal */);
    }
    else if (petType === 'snake') {
        if (name === undefined) {
            name = getPetName(names_1.SNAKE_NAMES, "snake" /* snake */, Snake.count + 1);
        }
        return new Snake(el, collision, size, left, bottom, petRoot, floor, name, 1 /* verySlow */);
    }
    else if (petType === 'clippy') {
        if (name === undefined) {
            name = getPetName(names_1.CLIPPY_NAMES, "clippy" /* clippy */, Clippy.count + 1);
        }
        return new Clippy(el, collision, size, left, bottom, petRoot, floor, name, 2 /* slow */);
    }
    else if (petType === 'crab') {
        if (name === undefined) {
            name = getPetName(names_1.CRAB_NAMES, "crab" /* crab */, Crab.count + 1);
        }
        return new Crab(el, collision, size, left, bottom, petRoot, floor, name, 2 /* slow */);
    }
    else if (petType === 'rubber-duck') {
        if (name === undefined) {
            name = getPetName(names_1.DUCK_NAMES, "rubber-duck" /* rubberduck */, RubberDuck.count + 1);
        }
        return new RubberDuck(el, collision, size, left, bottom, petRoot, floor, name, 4 /* fast */);
    }
    else if (petType === 'zappy') {
        if (name === undefined) {
            name = getPetName(names_1.ZAPPY_NAMES, "zappy" /* zappy */, Zappy.count + 1);
        }
        return new Zappy(el, collision, size, left, bottom, petRoot, floor, name, 5 /* veryFast */);
    }
    else if (petType === 'rocky') {
        if (name === undefined) {
            name = getPetName(names_1.ROCKY_NAMES, "rocky" /* rocky */, Rocky.count + 1);
        }
        return new Rocky(el, collision, size, left, bottom, petRoot, floor, name, 0 /* still */);
    }
    throw new InvalidPetException();
}
exports.createPet = createPet;


/***/ }),

/***/ "./src/panel/states.ts":
/*!*****************************!*\
  !*** ./src/panel/states.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.JumpDownLeftState = exports.ClimbWallLeftState = exports.ChaseFriendState = exports.ChaseState = exports.RunLeftState = exports.RunRightState = exports.WalkLeftState = exports.WalkRightState = exports.IdleWithBallState = exports.SwipeState = exports.LandState = exports.WallHangLeftState = exports.LieState = exports.SitIdleState = exports.resolveState = exports.isStateAboveGround = exports.BallState = exports.FrameResult = exports.HorizontalDirection = exports.PetPanelState = exports.PetElementState = exports.PetInstanceState = void 0;
class PetInstanceState {
}
exports.PetInstanceState = PetInstanceState;
class PetElementState {
}
exports.PetElementState = PetElementState;
class PetPanelState {
}
exports.PetPanelState = PetPanelState;
var HorizontalDirection;
(function (HorizontalDirection) {
    HorizontalDirection[HorizontalDirection["left"] = 0] = "left";
    HorizontalDirection[HorizontalDirection["right"] = 1] = "right";
    HorizontalDirection[HorizontalDirection["natural"] = 2] = "natural";
})(HorizontalDirection = exports.HorizontalDirection || (exports.HorizontalDirection = {}));
var FrameResult;
(function (FrameResult) {
    FrameResult[FrameResult["stateContinue"] = 0] = "stateContinue";
    FrameResult[FrameResult["stateComplete"] = 1] = "stateComplete";
    // Special states
    FrameResult[FrameResult["stateCancel"] = 2] = "stateCancel";
})(FrameResult = exports.FrameResult || (exports.FrameResult = {}));
class BallState {
    constructor(cx, cy, vx, vy) {
        this.cx = cx;
        this.cy = cy;
        this.vx = vx;
        this.vy = vy;
        this.paused = false;
    }
}
exports.BallState = BallState;
function isStateAboveGround(state) {
    return (state === "climb-wall-left" /* climbWallLeft */ ||
        state === "jump-down-left" /* jumpDownLeft */ ||
        state === "land" /* land */ ||
        state === "wall-hang-left" /* wallHangLeft */);
}
exports.isStateAboveGround = isStateAboveGround;
function resolveState(state, pet) {
    switch (state) {
        case "sit-idle" /* sitIdle */:
            return new SitIdleState(pet);
        case "walk-right" /* walkRight */:
            return new WalkRightState(pet);
        case "walk-left" /* walkLeft */:
            return new WalkLeftState(pet);
        case "run-right" /* runRight */:
            return new RunRightState(pet);
        case "run-left" /* runLeft */:
            return new RunLeftState(pet);
        case "lie" /* lie */:
            return new LieState(pet);
        case "wall-hang-left" /* wallHangLeft */:
            return new WallHangLeftState(pet);
        case "climb-wall-left" /* climbWallLeft */:
            return new ClimbWallLeftState(pet);
        case "jump-down-left" /* jumpDownLeft */:
            return new JumpDownLeftState(pet);
        case "land" /* land */:
            return new LandState(pet);
        case "swipe" /* swipe */:
            return new SwipeState(pet);
        case "idle-with-ball" /* idleWithBall */:
            return new IdleWithBallState(pet);
        case "chase-friend" /* chaseFriend */:
            return new ChaseFriendState(pet);
    }
    return new SitIdleState(pet);
}
exports.resolveState = resolveState;
class AbstractStaticState {
    constructor(pet) {
        this.label = "sit-idle" /* sitIdle */;
        this.spriteLabel = 'idle';
        this.holdTime = 50;
        this.horizontalDirection = HorizontalDirection.left;
        this.idleCounter = 0;
        this.pet = pet;
    }
    nextFrame() {
        this.idleCounter++;
        if (this.idleCounter > this.holdTime) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
class SitIdleState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "sit-idle" /* sitIdle */;
        this.spriteLabel = 'idle';
        this.horizontalDirection = HorizontalDirection.right;
        this.holdTime = 50;
    }
}
exports.SitIdleState = SitIdleState;
class LieState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "lie" /* lie */;
        this.spriteLabel = 'lie';
        this.horizontalDirection = HorizontalDirection.right;
        this.holdTime = 50;
    }
}
exports.LieState = LieState;
class WallHangLeftState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "wall-hang-left" /* wallHangLeft */;
        this.spriteLabel = 'wallgrab';
        this.horizontalDirection = HorizontalDirection.left;
        this.holdTime = 50;
    }
}
exports.WallHangLeftState = WallHangLeftState;
class LandState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "land" /* land */;
        this.spriteLabel = 'land';
        this.horizontalDirection = HorizontalDirection.left;
        this.holdTime = 10;
    }
}
exports.LandState = LandState;
class SwipeState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "swipe" /* swipe */;
        this.spriteLabel = 'swipe';
        this.horizontalDirection = HorizontalDirection.natural;
        this.holdTime = 15;
    }
}
exports.SwipeState = SwipeState;
class IdleWithBallState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "idle-with-ball" /* idleWithBall */;
        this.spriteLabel = 'with_ball';
        this.horizontalDirection = HorizontalDirection.left;
        this.holdTime = 30;
    }
}
exports.IdleWithBallState = IdleWithBallState;
class WalkRightState {
    constructor(pet) {
        this.label = "walk-right" /* walkRight */;
        this.spriteLabel = 'walk';
        this.horizontalDirection = HorizontalDirection.right;
        this.speedMultiplier = 1;
        this.holdTime = 60;
        this.leftBoundary = Math.floor(window.innerWidth * 0.95);
        this.pet = pet;
        this.idleCounter = 0;
    }
    nextFrame() {
        this.idleCounter++;
        this.pet.positionLeft(this.pet.left() + this.pet.speed() * this.speedMultiplier);
        if (this.pet.isMoving() &&
            this.pet.left() >= this.leftBoundary - this.pet.width()) {
            return FrameResult.stateComplete;
        }
        else if (!this.pet.isMoving() && this.idleCounter > this.holdTime) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.WalkRightState = WalkRightState;
class WalkLeftState {
    constructor(pet) {
        this.label = "walk-left" /* walkLeft */;
        this.spriteLabel = 'walk';
        this.horizontalDirection = HorizontalDirection.left;
        this.speedMultiplier = 1;
        this.holdTime = 60;
        this.pet = pet;
        this.idleCounter = 0;
    }
    nextFrame() {
        this.pet.positionLeft(this.pet.left() - this.pet.speed() * this.speedMultiplier);
        if (this.pet.isMoving() && this.pet.left() <= 0) {
            return FrameResult.stateComplete;
        }
        else if (!this.pet.isMoving() && this.idleCounter > this.holdTime) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.WalkLeftState = WalkLeftState;
class RunRightState extends WalkRightState {
    constructor() {
        super(...arguments);
        this.label = "run-right" /* runRight */;
        this.spriteLabel = 'walk_fast';
        this.speedMultiplier = 1.6;
        this.holdTime = 130;
    }
}
exports.RunRightState = RunRightState;
class RunLeftState extends WalkLeftState {
    constructor() {
        super(...arguments);
        this.label = "run-left" /* runLeft */;
        this.spriteLabel = 'walk_fast';
        this.speedMultiplier = 1.6;
        this.holdTime = 130;
    }
}
exports.RunLeftState = RunLeftState;
class ChaseState {
    constructor(pet, ballState, canvas) {
        this.label = "chase" /* chase */;
        this.spriteLabel = 'run';
        this.horizontalDirection = HorizontalDirection.left;
        this.pet = pet;
        this.ballState = ballState;
        this.canvas = canvas;
    }
    nextFrame() {
        if (this.ballState.paused) {
            return FrameResult.stateCancel; // Ball is already caught
        }
        if (this.pet.left() > this.ballState.cx) {
            this.horizontalDirection = HorizontalDirection.left;
            this.pet.positionLeft(this.pet.left() - this.pet.speed());
        }
        else {
            this.horizontalDirection = HorizontalDirection.right;
            this.pet.positionLeft(this.pet.left() + this.pet.speed());
        }
        if (this.canvas.height - this.ballState.cy <
            this.pet.width() + this.pet.floor() &&
            this.ballState.cx < this.pet.left() &&
            this.pet.left() < this.ballState.cx + 15) {
            // hide ball
            this.canvas.style.display = 'none';
            this.ballState.paused = true;
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.ChaseState = ChaseState;
class ChaseFriendState {
    constructor(pet) {
        this.label = "chase-friend" /* chaseFriend */;
        this.spriteLabel = 'run';
        this.horizontalDirection = HorizontalDirection.left;
        this.pet = pet;
    }
    nextFrame() {
        if (!this.pet.friend().isPlaying()) {
            return FrameResult.stateCancel; // Friend is no longer playing.
        }
        if (this.pet.left() > this.pet.friend().left()) {
            this.horizontalDirection = HorizontalDirection.left;
            this.pet.positionLeft(this.pet.left() - this.pet.speed());
        }
        else {
            this.horizontalDirection = HorizontalDirection.right;
            this.pet.positionLeft(this.pet.left() + this.pet.speed());
        }
        return FrameResult.stateContinue;
    }
}
exports.ChaseFriendState = ChaseFriendState;
class ClimbWallLeftState {
    constructor(pet) {
        this.label = "climb-wall-left" /* climbWallLeft */;
        this.spriteLabel = 'wallclimb';
        this.horizontalDirection = HorizontalDirection.left;
        this.pet = pet;
    }
    nextFrame() {
        this.pet.positionBottom(this.pet.bottom() + 1);
        if (this.pet.bottom() >= 100) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.ClimbWallLeftState = ClimbWallLeftState;
class JumpDownLeftState {
    constructor(pet) {
        this.label = "jump-down-left" /* jumpDownLeft */;
        this.spriteLabel = 'fall_from_grab';
        this.horizontalDirection = HorizontalDirection.right;
        this.pet = pet;
    }
    nextFrame() {
        this.pet.positionBottom(this.pet.bottom() - 5);
        if (this.pet.bottom() <= this.pet.floor()) {
            this.pet.positionBottom(this.pet.floor());
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.JumpDownLeftState = JumpDownLeftState;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/panel/main.ts");
/******/ 	self.petApp = __webpack_exports__;
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wZXRBcHAvLi9zcmMvY29tbW9uL25hbWVzLnRzIiwid2VicGFjazovL3BldEFwcC8uL3NyYy9wYW5lbC9kZXNpZ25lci50cyIsIndlYnBhY2s6Ly9wZXRBcHAvLi9zcmMvcGFuZWwvbWFpbi50cyIsIndlYnBhY2s6Ly9wZXRBcHAvLi9zcmMvcGFuZWwvcGV0cy50cyIsIndlYnBhY2s6Ly9wZXRBcHAvLi9zcmMvcGFuZWwvc3RhdGVzLnRzIiwid2VicGFjazovL3BldEFwcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wZXRBcHAvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBYSxpQkFBUyxHQUF3QixJQUFJLEdBQUcsQ0FBaUI7SUFDbEUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ1osQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDO0lBQ2QsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO0lBQ1YsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ1osQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQ1gsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ1osQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQ1gsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ1osQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDO0lBQ2YsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDO0lBQ2YsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUs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Q0FBQyxNQUFNLEVBQUUsSUFBSSxHQUFHLEVBQUU7WUFDMUIsT0FBTyxXQUFXLENBQUMsYUFBYSxDQUFDO1NBQ3BDO1FBQ0QsT0FBTyxXQUFXLENBQUMsYUFBYSxDQUFDO0lBQ3JDLENBQUM7Q0FDSjtBQWpCRCxnREFpQkM7QUFFRCxNQUFhLGlCQUFpQjtJQU0xQixZQUFZLEdBQWE7UUFMekIsVUFBSyx1Q0FBdUI7UUFDNUIsZ0JBQVcsR0FBRyxnQkFBZ0IsQ0FBQztRQUMvQix3QkFBbUIsR0FBRyxtQkFBbUIsQ0FBQyxLQUFLLENBQUM7UUFJNUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDbkIsQ0FBQztJQUVELFNBQVM7UUFDTCxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQy9DLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztZQUMxQyxPQUFPLFdBQVcsQ0FBQyxhQUFhLENBQUM7U0FDcEM7UUFDRCxPQUFPLFdBQVcsQ0FBQyxhQUFhLENBQUM7SUFDckMsQ0FBQztDQUNKO0FBbEJELDhDQWtCQzs7Ozs7OztVQzVXRDtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7O1VDdEJBO1VBQ0E7VUFDQTtVQUNBIiwiZmlsZSI6Im1haW4tYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBFVF9OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ0JlbGxhJ10sXG4gICAgWzIsICdDaGFybGllJ10sXG4gICAgWzMsICdNYXgnXSxcbiAgICBbNCwgJ01vbGx5J10sXG4gICAgWzUsICdDb2NvJ10sXG4gICAgWzYsICdCdWRkeSddLFxuICAgIFs3LCAnUnVieSddLFxuICAgIFs4LCAnT3NjYXInXSxcbiAgICBbOSwgJ0x1Y3knXSxcbiAgICBbMTAsICdCYWlsZXknXSxcbiAgICBbMTEsICdNaWxvJ10sXG4gICAgWzEyLCAnRGFpc3knXSxcbiAgICBbMTMsICdBcmNoaWUnXSxcbiAgICBbMTQsICdPbGxpZSddLFxuICAgIFsxNSwgJ1Jvc2llJ10sXG4gICAgWzE2LCAnTG9sYSddLFxuICAgIFsxNywgJ0ZyYW5raWUnXSxcbiAgICBbMTgsICdUb2J5J10sXG4gICAgWzE5LCAnUm94eSddLFxuICAgIFsyMCwgJ1BvcHB5J10sXG4gICAgWzIxLCAnTHVuYSddLFxuICAgIFsyMiwgJ0phY2snXSxcbiAgICBbMjMsICdNaWxsaWUnXSxcbiAgICBbMjQsICdUZWRkeSddLFxuICAgIFsyNSwgJ0hhcnJ5J10sXG4gICAgWzI2LCAnQ29vcGVyJ10sXG4gICAgWzI3LCAnQmVhciddLFxuICAgIFsyOCwgJ1JvY2t5J10sXG4gICAgWzI5LCAnQWxmaWUnXSxcbiAgICBbMzAsICdIdWdvJ10sXG4gICAgWzMxLCAnQm9ubmllJ10sXG4gICAgWzMyLCAnUGVwcGVyJ10sXG4gICAgWzMzLCAnTGlseSddLFxuICAgIFszNCwgJ1RpbGx5J10sXG4gICAgWzM1LCAnTGVvJ10sXG4gICAgWzM2LCAnTWFnZ2llJ10sXG4gICAgWzM3LCAnR2VvcmdlJ10sXG4gICAgWzM4LCAnTWlhJ10sXG4gICAgWzM5LCAnTWFybGV5J10sXG4gICAgWzQwLCAnSGFybGV5J10sXG4gICAgWzQxLCAnQ2hsb2UnXSxcbiAgICBbNDIsICdMdWx1J10sXG4gICAgWzQzLCAnTWlzc3knXSxcbiAgICBbNDQsICdKYXNwZXInXSxcbiAgICBbNDUsICdCaWxseSddLFxuICAgIFs0NiwgJ05hbGEnXSxcbiAgICBbNDcsICdNb250eSddLFxuICAgIFs0OCwgJ1ppZ2d5J10sXG4gICAgWzQ5LCAnV2luc3RvbiddLFxuICAgIFs1MCwgJ1pldXMnXSxcbiAgICBbNTEsICdab2UnXSxcbiAgICBbNTIsICdTdGVsbGEnXSxcbiAgICBbNTMsICdTYXNoYSddLFxuICAgIFs1NCwgJ1J1c3R5J10sXG4gICAgWzU1LCAnR3VzJ10sXG4gICAgWzU2LCAnQmF4dGVyJ10sXG4gICAgWzU3LCAnRGV4dGVyJ10sXG4gICAgWzU4LCAnRGllc2VsJ10sXG4gICAgWzU5LCAnV2lsbG93J10sXG4gICAgWzYwLCAnQmFybmV5J10sXG4gICAgWzYxLCAnQnJ1bm8nXSxcbiAgICBbNjIsICdQZW5ueSddLFxuICAgIFs2MywgJ0hvbmV5J10sXG4gICAgWzY0LCAnTWlsbHknXSxcbiAgICBbNjUsICdNdXJwaHknXSxcbiAgICBbNjYsICdTaW1iYSddLFxuICAgIFs2NywgJ0hvbGx5J10sXG4gICAgWzY4LCAnQmVuamknXSxcbiAgICBbNjksICdIZW5yeSddLFxuICAgIFs3MCwgJ0xpbGx5J10sXG4gICAgWzcxLCAnUGlwcGEnXSxcbiAgICBbNzIsICdTaGFkb3cnXSxcbiAgICBbNzMsICdTYW0nXSxcbiAgICBbNzQsICdCdXN0ZXInXSxcbiAgICBbNzUsICdMdWNreSddLFxuICAgIFs3NiwgJ0VsbGllJ10sXG4gICAgWzc3LCAnRHVrZSddLFxuICAgIFs3OCwgJ0plc3NpZSddLFxuICAgIFs3OSwgJ0Nvb2tpZSddLFxuICAgIFs4MCwgJ0hhcnZleSddLFxuICAgIFs4MSwgJ0JydWNlJ10sXG4gICAgWzgyLCAnSmF4J10sXG4gICAgWzgzLCAnUmV4J10sXG4gICAgWzg0LCAnTG91aWUnXSxcbiAgICBbODUsICdCZW50bGV5J10sXG4gICAgWzg2LCAnSmV0J10sXG4gICAgWzg3LCAnQmFuam8nXSxcbiAgICBbODgsICdCZWF1J10sXG4gICAgWzg5LCAnRWxsYSddLFxuICAgIFs5MCwgJ1JhbHBoJ10sXG4gICAgWzkxLCAnTG9raSddLFxuICAgIFs5MiwgJ0xleGknXSxcbiAgICBbOTMsICdDaGVzdGVyJ10sXG4gICAgWzk0LCAnU29waGllJ10sXG4gICAgWzk1LCAnQ2hpbGxpJ10sXG4gICAgWzk2LCAnQmlsbGllJ10sXG4gICAgWzk3LCAnTG91aXMnXSxcbiAgICBbOTgsICdTY291dCddLFxuICAgIFs5OSwgJ0NoYXJsaWUnXSxcbiAgICBbMTAwLCAnQ2xlbyddLFxuICAgIFsxMDEsICdQdXJmZWN0J10sXG4gICAgWzEwMiwgJ1Nwb3QnXSxcbiAgICBbMTAzLCAnSGFycnknXSxcbiAgICBbMTA0LCAnQm9sdCddLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBDQVRfTkFNRVMgPSBQRVRfTkFNRVM7XG5cbmV4cG9ydCBjb25zdCBET0dfTkFNRVMgPSBQRVRfTkFNRVM7XG5cbmV4cG9ydCBjb25zdCBDUkFCX05BTUVTOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oW1xuICAgIFsxLCAnRmVycmlzJ10sXG4gICAgWzIsICdQaW5jaHknXSxcbiAgICBbMywgJ0dyYWJieSddLFxuICAgIFs0LCAnQmlnIFJlZCddLFxuICAgIFs1LCAnQ3JhYmJ5J10sXG4gICAgWzYsICdCdWRkeSddLFxuICAgIFs3LCAnUnVieSBSZWQnXSxcbiAgICBbOCwgJ09zY2FyJ10sXG4gICAgWzksICdMdWN5J10sXG4gICAgWzEwLCAnQmFpbGV5J10sXG5dKTtcblxuZXhwb3J0IGNvbnN0IENMSVBQWV9OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ0NsaXBweSddLFxuICAgIFsyLCAnS2FybCBLbGFtbWVyJ10sXG4gICAgWzMsICdDbGlwcHkgSnIuJ10sXG4gICAgWzQsICdNb2xseSddLFxuICAgIFs1LCAnQ29jbyddLFxuICAgIFs2LCAnQnVkZHknXSxcbiAgICBbNywgJ1J1YnknXSxcbiAgICBbOCwgJ09zY2FyJ10sXG4gICAgWzksICdMdWN5J10sXG4gICAgWzEwLCAnQmFpbGV5J10sXG5dKTtcblxuZXhwb3J0IGNvbnN0IFRPVE9ST19OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ1RvdG9ybyddLFxuICAgIFsyLCAn44OI44OI44OtJ10sXG4gICAgWzMsICdNYXgnXSxcbiAgICBbNCwgJ01vbGx5J10sXG4gICAgWzUsICdDb2NvJ10sXG4gICAgWzYsICdCdWRkeSddLFxuICAgIFs3LCAnUnVieSddLFxuICAgIFs4LCAnT3NjYXInXSxcbiAgICBbOSwgJ0x1Y3knXSxcbiAgICBbMTAsICdCYWlsZXknXSxcbl0pO1xuXG5leHBvcnQgY29uc3QgU05BS0VfTkFNRVM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwPG51bWJlciwgc3RyaW5nPihbXG4gICAgWzEsICdTbmVha3knXSxcbiAgICBbMiwgJ01yIFNsaXBwZXJ5J10sXG4gICAgWzMsICdNYXgnXSxcbiAgICBbNCwgJ01vbGx5J10sXG4gICAgWzUsICdDb2NvJ10sXG4gICAgWzYsICdCdWRkeSddLFxuICAgIFs3LCAnUnVieSddLFxuICAgIFs4LCAnT3NjYXInXSxcbiAgICBbOSwgJ0x1Y3knXSxcbiAgICBbMTAsICdCYWlsZXknXSxcbl0pO1xuXG5leHBvcnQgY29uc3QgRFVDS19OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ1F1YWNreSddLFxuICAgIFsyLCAnRmxvYXR5J10sXG4gICAgWzMsICdEdWNrJ10sXG4gICAgWzQsICdNb2xseSddLFxuICAgIFs1LCAnU3Vuc2hpbmUnXSxcbiAgICBbNiwgJ0J1ZGR5J10sXG4gICAgWzcsICdDaGlycHknXSxcbiAgICBbOCwgJ09zY2FyJ10sXG4gICAgWzksICdMdWN5J10sXG4gICAgWzEwLCAnQmFpbGV5J10sXG5dKTtcblxuZXhwb3J0IGNvbnN0IFpBUFBZX05BTUVTOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oW1xuICAgIFsxLCAnWmFwcHknXSxcbiAgICBbMiwgJ1ppcHB5J10sXG4gICAgWzMsICdaYXBweSBKci4nXSxcbiAgICBbNCwgJ1pvcHB5J10sXG4gICAgWzUsICdadXBweSddLFxuICAgIFs2LCAnWmVwcHknXSxcbiAgICBbNywgJ0JpZyBaJ10sXG4gICAgWzgsICdMaXR0bGUgeiddLFxuICAgIFs5LCAnVGhlIEZsYXNoJ10sXG4gICAgWzEwLCAnVGhvciddLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBST0NLWV9OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ1JvY2t5J10sXG4gICAgWzIsICdUaGUgUm9jayddLFxuICAgIFszLCAnUXVhcnR6eSddLFxuICAgIFs0LCAnUm9ja3kgSSddLFxuICAgIFs1LCAnUm9ja3kgSUknXSxcbiAgICBbNiwgJ1JvY2t5IElJSSddLFxuICAgIFs3LCAnUGViYmxlcyBTci4nXSxcbiAgICBbOCwgJ0JpZyBHcmFuaXRlJ10sXG4gICAgWzksICdCb3VsZGVyJ10sXG4gICAgWzEwLCAnUm9ja2VmZWxsZXInXSxcbl0pO1xuIiwiY2xhc3MgUkdCIHtcbiAgICByOiBudW1iZXI7XG4gICAgZzogbnVtYmVyO1xuICAgIGI6IG51bWJlcjtcbiAgICBjb25zdHJ1Y3RvcihyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKXtcbiAgICAgICAgdGhpcy5yID0gcjtcbiAgICAgICAgdGhpcy5nID0gZztcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICB9XG59XG5cbmNsYXNzIFN1YnN0aXR1dGlvbiB7XG4gICAgb3JpZ2luYWw6IFJHQjtcbiAgICBuZXc6IFJHQjtcblxuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsOiBSR0IsIG5ld186IFJHQil7XG4gICAgICAgIHRoaXMub3JpZ2luYWwgPSBvcmlnaW5hbDtcbiAgICAgICAgdGhpcy5uZXcgPSBuZXdfO1xuICAgIH1cbn1cblxudmFyIHN1YnN0aXR1dGlvbnMgOiBBcnJheTxTdWJzdGl0dXRpb24+ID0gbmV3IEFycmF5KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplRGVzaWduZXIodXJpOiBzdHJpbmcpIHtcbiAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgaW1nLnNyYyA9IGAke3VyaX0vZG9nL2JsYWNrX2lkbGVfOGZwcy5naWZgO1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JpZ2luYWwtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgdmFyIG5ld0NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgdmFyIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIHZhciBuZXdDdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IG5ld0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICBpbWcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgbmV3Q3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICB2YXIgdW5pcXVlQ29sb3JzOiBBcnJheTxSR0I+ID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB1bmlxdWVDb2xvcnMubGVuZ3RoIDsgaiArKyl7XG4gICAgICAgICAgICAgICAgaWYgKHVuaXF1ZUNvbG9yc1tqXS5yID09PSBkYXRhW2ldICYmXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZUNvbG9yc1tqXS5nID09PSBkYXRhW2kgKyAxXSAmJlxuICAgICAgICAgICAgICAgICAgICB1bmlxdWVDb2xvcnNbal0uYiA9PT0gZGF0YVtpICsgMl0pe1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZm91bmQpe1xuICAgICAgICAgICAgICAgIHVuaXF1ZUNvbG9ycy5wdXNoKHtyOiBkYXRhW2ldLCBnOiBkYXRhW2kgKyAxXSwgYjogZGF0YVtpICsgMl19KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICB2YXIgc3ViTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJzdGl0dXRpb25zLWxpc3QnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bmlxdWVDb2xvcnMubGVuZ3RoOyBpICsrKXtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IHVuaXF1ZUNvbG9yc1tpXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG5ld0NvbG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgbmV3Q29sb3IudHlwZSA9ICdjb2xvcic7XG4gICAgICAgICAgICBuZXdDb2xvci52YWx1ZSA9IHJnYlRvSGV4KGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xuICAgICAgICAgICAgbmV3Q29sb3IuaWQgPSBpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBuZXdDb2xvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IHBhcnNlSW50KHRoaXMuaWQpO1xuICAgICAgICAgICAgICAgIHN1YnN0aXR1dGlvbnNbaWRdLm5ldyA9IGhleFRvUmdiKHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgICAgIGRyYXdJbWFnZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJMaXN0LmFwcGVuZENoaWxkKG5ld0NvbG9yKTtcbiAgICAgICAgICAgIHN1YnN0aXR1dGlvbnMucHVzaCh7b3JpZ2luYWw6IGNvbG9yLCBuZXc6IGNvbG9yfSk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgZHJhd0ltYWdlKCk7XG4gICAgfTtcbn1cblxuXG5mdW5jdGlvbiBjb21wb25lbnRUb0hleChjOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHZhciBoZXggPSBjLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gMSA/IFwiMFwiICsgaGV4IDogaGV4O1xufVxuXG5mdW5jdGlvbiByZ2JUb0hleChyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCIjXCIgKyBjb21wb25lbnRUb0hleChyKSArIGNvbXBvbmVudFRvSGV4KGcpICsgY29tcG9uZW50VG9IZXgoYik7XG59XG5cbmZ1bmN0aW9uIGhleFRvUmdiKGhleDogc3RyaW5nKSA6IFJHQntcbiAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcjogcGFyc2VJbnQocmVzdWx0IVsxXSwgMTYpLFxuICAgICAgICBnOiBwYXJzZUludChyZXN1bHQhWzJdLCAxNiksXG4gICAgICAgIGI6IHBhcnNlSW50KHJlc3VsdCFbM10sIDE2KVxuICAgIH0gO1xufVxuXG5mdW5jdGlvbiBkcmF3SW1hZ2UoKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmlnaW5hbC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB2YXIgbmV3Q2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldy1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB2YXIgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgdmFyIG5ld0N0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gbmV3Q2FudmFzLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMCA7IGogPCBzdWJzdGl0dXRpb25zLmxlbmd0aDsgaiArKyApe1xuICAgICAgICAgICAgaWYgKHN1YnN0aXR1dGlvbnNbal0ub3JpZ2luYWwuciA9PT0gZGF0YVtpXSAmJlxuICAgICAgICAgICAgICAgIHN1YnN0aXR1dGlvbnNbal0ub3JpZ2luYWwuZyA9PT0gZGF0YVtpICsgMV0gJiYgXG4gICAgICAgICAgICAgICAgc3Vic3RpdHV0aW9uc1tqXS5vcmlnaW5hbC5iID09PSBkYXRhW2kgKyAyXSl7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSAgICAgPSBzdWJzdGl0dXRpb25zW2pdLm5ldy5yOyAgICAgLy8gcmVkXG4gICAgICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBzdWJzdGl0dXRpb25zW2pdLm5ldy5nOyAvLyBncmVlblxuICAgICAgICAgICAgICAgIGRhdGFbaSArIDJdID0gc3Vic3RpdHV0aW9uc1tqXS5uZXcuYjsgLy8gYmx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG5ld0N0eCEucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG59IiwiLy8gVGhpcyBzY3JpcHQgd2lsbCBiZSBydW4gd2l0aGluIHRoZSB3ZWJ2aWV3IGl0c2VsZlxuaW1wb3J0IHtcbiAgICBQZXRTaXplLFxuICAgIFBldENvbG9yLFxuICAgIFBldFR5cGUsXG4gICAgVGhlbWUsXG4gICAgQ29sb3JUaGVtZUtpbmQsXG4gICAgV2Vidmlld01lc3NhZ2UsXG59IGZyb20gJy4uL2NvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBpbml0aWFsaXplRGVzaWduZXIgfSBmcm9tICcuL2Rlc2lnbmVyJztcbmltcG9ydCB7XG4gICAgY3JlYXRlUGV0LFxuICAgIElQZXRUeXBlLFxuICAgIEludmFsaWRQZXRFeGNlcHRpb24sXG4gICAgUGV0Q29sbGVjdGlvbixcbiAgICBQZXRFbGVtZW50LFxuICAgIElQZXRDb2xsZWN0aW9uLFxufSBmcm9tICcuL3BldHMnO1xuaW1wb3J0IHtcbiAgICBCYWxsU3RhdGUsXG4gICAgQ2hhc2VGcmllbmRTdGF0ZSxcbiAgICBQZXRFbGVtZW50U3RhdGUsXG4gICAgUGV0SW5zdGFuY2VTdGF0ZSxcbiAgICBQZXRQYW5lbFN0YXRlLFxuICAgIFN0YXRlcyxcbn0gZnJvbSAnLi9zdGF0ZXMnO1xuXG4vKiBUaGlzIGlzIGhvdyB0aGUgVlMgQ29kZSBBUEkgY2FuIGJlIGludm9rZWQgZnJvbSB0aGUgcGFuZWwgKi9cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgVnNjb2RlU3RhdGVBcGkge1xuICAgICAgICBnZXRTdGF0ZSgpOiBQZXRQYW5lbFN0YXRlOyAvLyBBUEkgaXMgYWN0dWFsbHkgQW55LCBidXQgd2Ugd2FudCBpdCB0byBiZSB0eXBlZC5cbiAgICAgICAgc2V0U3RhdGUoc3RhdGU6IFBldFBhbmVsU3RhdGUpOiB2b2lkO1xuICAgICAgICBwb3N0TWVzc2FnZShtZXNzYWdlOiBXZWJ2aWV3TWVzc2FnZSk6IHZvaWQ7XG4gICAgfVxuICAgIGludGVyZmFjZSBXaW5kb3cge1xuICAgICAgICBhY3F1aXJlVnNDb2RlQXBpKCk6IFZzY29kZVN0YXRlQXBpO1xuICAgIH1cbn1cblxuY29uc3QgdnNjb2RlID0gd2luZG93LmFjcXVpcmVWc0NvZGVBcGkoKTtcblxuZXhwb3J0IHZhciBhbGxQZXRzOiBJUGV0Q29sbGVjdGlvbiA9IG5ldyBQZXRDb2xsZWN0aW9uKCk7XG52YXIgcGV0Q291bnRlcjogbnVtYmVyO1xuXG5mdW5jdGlvbiBjYWxjdWxhdGVCYWxsUmFkaXVzKHNpemU6IFBldFNpemUpOiBudW1iZXIge1xuICAgIGlmIChzaXplID09PSBQZXRTaXplLm5hbm8pIHtcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgfSBlbHNlIGlmIChzaXplID09PSBQZXRTaXplLm1lZGl1bSkge1xuICAgICAgICByZXR1cm4gNDtcbiAgICB9IGVsc2UgaWYgKHNpemUgPT09IFBldFNpemUubGFyZ2UpIHtcbiAgICAgICAgcmV0dXJuIDg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDE7IC8vIFNocnVnXG4gICAgfVxufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVGbG9vcihzaXplOiBQZXRTaXplLCB0aGVtZTogVGhlbWUpOiBudW1iZXIge1xuICAgIHN3aXRjaCAodGhlbWUpIHtcbiAgICAgICAgY2FzZSBUaGVtZS5mb3Jlc3Q6XG4gICAgICAgICAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFBldFNpemUubWVkaXVtOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNDA7XG4gICAgICAgICAgICAgICAgY2FzZSBQZXRTaXplLmxhcmdlOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNjU7XG4gICAgICAgICAgICAgICAgY2FzZSBQZXRTaXplLm5hbm86XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIzO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFRoZW1lLmNhc3RsZTpcbiAgICAgICAgICAgIHN3aXRjaCAoc2l6ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgUGV0U2l6ZS5tZWRpdW06XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA4MDtcbiAgICAgICAgICAgICAgICBjYXNlIFBldFNpemUubGFyZ2U6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxMjA7XG4gICAgICAgICAgICAgICAgY2FzZSBQZXRTaXplLm5hbm86XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQ1O1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTW91c2VPdmVyKGU6IE1vdXNlRXZlbnQpIHtcbiAgICB2YXIgZWwgPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgYWxsUGV0cy5wZXRzKCkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC5jb2xsaXNpb24gPT09IGVsKSB7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucGV0LmNhblN3aXBlKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50LnBldC5zd2lwZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0QW5pbWF0aW9ucyhjb2xsaXNpb246IEhUTUxEaXZFbGVtZW50LCBwZXQ6IElQZXRUeXBlKSB7XG4gICAgY29sbGlzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGhhbmRsZU1vdXNlT3Zlcik7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB2YXIgdXBkYXRlcyA9IGFsbFBldHMuc2Vla05ld0ZyaWVuZHMoKTtcbiAgICAgICAgdXBkYXRlcy5mb3JFYWNoKChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICB2c2NvZGUucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2luZm8nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBwZXQubmV4dEZyYW1lKCk7XG4gICAgICAgIHNhdmVTdGF0ZSgpO1xuICAgIH0sIDEwMCk7XG59XG5cbmZ1bmN0aW9uIGFkZFBldFRvUGFuZWwoXG4gICAgcGV0VHlwZTogUGV0VHlwZSxcbiAgICBiYXNlUGV0VXJpOiBzdHJpbmcsXG4gICAgcGV0Q29sb3I6IFBldENvbG9yLFxuICAgIHBldFNpemU6IFBldFNpemUsXG4gICAgbGVmdDogbnVtYmVyLFxuICAgIGJvdHRvbTogbnVtYmVyLFxuICAgIGZsb29yOiBudW1iZXIsXG4gICAgbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuKTogUGV0RWxlbWVudCB7XG4gICAgdmFyIHBldFNwcml0ZUVsZW1lbnQ6IEhUTUxJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBwZXRTcHJpdGVFbGVtZW50LmNsYXNzTmFtZSA9ICdwZXQnO1xuICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGV0c0NvbnRhaW5lcicpIGFzIEhUTUxEaXZFbGVtZW50KS5hcHBlbmRDaGlsZChcbiAgICAgICAgcGV0U3ByaXRlRWxlbWVudCxcbiAgICApO1xuXG4gICAgdmFyIGNvbGxpc2lvbkVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29sbGlzaW9uRWxlbWVudC5jbGFzc05hbWUgPSAnY29sbGlzaW9uJztcbiAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BldHNDb250YWluZXInKSBhcyBIVE1MRGl2RWxlbWVudCkuYXBwZW5kQ2hpbGQoXG4gICAgICAgIGNvbGxpc2lvbkVsZW1lbnQsXG4gICAgKTtcblxuICAgIGNvbnN0IHJvb3QgPSBiYXNlUGV0VXJpICsgJy8nICsgcGV0VHlwZSArICcvJyArIHBldENvbG9yO1xuICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBuZXcgcGV0IDogJywgcGV0VHlwZSwgcm9vdCk7XG4gICAgdmFyIG5ld1BldCA9IGNyZWF0ZVBldChcbiAgICAgICAgcGV0VHlwZSxcbiAgICAgICAgcGV0U3ByaXRlRWxlbWVudCxcbiAgICAgICAgY29sbGlzaW9uRWxlbWVudCxcbiAgICAgICAgcGV0U2l6ZSxcbiAgICAgICAgbGVmdCxcbiAgICAgICAgYm90dG9tLFxuICAgICAgICByb290LFxuICAgICAgICBmbG9vcixcbiAgICAgICAgbmFtZSxcbiAgICApO1xuICAgIHBldENvdW50ZXIrKztcbiAgICBzdGFydEFuaW1hdGlvbnMoY29sbGlzaW9uRWxlbWVudCwgbmV3UGV0KTtcbiAgICByZXR1cm4gbmV3IFBldEVsZW1lbnQoXG4gICAgICAgIHBldFNwcml0ZUVsZW1lbnQsXG4gICAgICAgIGNvbGxpc2lvbkVsZW1lbnQsXG4gICAgICAgIG5ld1BldCxcbiAgICAgICAgcGV0Q29sb3IsXG4gICAgICAgIHBldFR5cGUsXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlUGV0RnJvbVBhbmVsKHBldDogUGV0RWxlbWVudCk6IGFueSB7XG4gICAgcGV0LmNvbGxpc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBoYW5kbGVNb3VzZU92ZXIpO1xuICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGV0c0NvbnRhaW5lcicpIGFzIEhUTUxEaXZFbGVtZW50KS5yZW1vdmVDaGlsZChcbiAgICAgICAgcGV0LmNvbGxpc2lvbixcbiAgICApO1xuICAgIHBldC5jb2xsaXNpb24ucmVtb3ZlKCk7XG4gICAgcGV0LnJlbW92ZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVN0YXRlKCkge1xuICAgIHZhciBzdGF0ZSA9IG5ldyBQZXRQYW5lbFN0YXRlKCk7XG4gICAgc3RhdGUucGV0U3RhdGVzID0gbmV3IEFycmF5KCk7XG5cbiAgICBhbGxQZXRzLnBldHMoKS5mb3JFYWNoKChwZXRJdGVtKSA9PiB7XG4gICAgICAgIHN0YXRlLnBldFN0YXRlcyEucHVzaCh7XG4gICAgICAgICAgICBwZXROYW1lOiBwZXRJdGVtLnBldC5uYW1lKCksXG4gICAgICAgICAgICBwZXRDb2xvcjogcGV0SXRlbS5jb2xvcixcbiAgICAgICAgICAgIHBldFR5cGU6IHBldEl0ZW0udHlwZSxcbiAgICAgICAgICAgIHBldFN0YXRlOiBwZXRJdGVtLnBldC5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgcGV0RnJpZW5kOiBwZXRJdGVtLnBldC5mcmllbmQoKVxuICAgICAgICAgICAgICAgID8gcGV0SXRlbS5wZXQuZnJpZW5kKCkubmFtZSgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbExlZnQ6IHBldEl0ZW0uZWwuc3R5bGUubGVmdCxcbiAgICAgICAgICAgIGVsQm90dG9tOiBwZXRJdGVtLmVsLnN0eWxlLmJvdHRvbSxcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgc3RhdGUucGV0Q291bnRlciA9IHBldENvdW50ZXI7XG4gICAgdnNjb2RlLnNldFN0YXRlKHN0YXRlKTtcbn1cblxuZnVuY3Rpb24gcmVjb3ZlclN0YXRlKGJhc2VQZXRVcmk6IHN0cmluZywgcGV0U2l6ZTogUGV0U2l6ZSwgZmxvb3I6IG51bWJlcikge1xuICAgIHZhciBzdGF0ZSA9IHZzY29kZS5nZXRTdGF0ZSgpO1xuXG4gICAgaWYgKHN0YXRlLnBldENvdW50ZXIgPT09IHVuZGVmaW5lZCB8fCBpc05hTihzdGF0ZS5wZXRDb3VudGVyKSkge1xuICAgICAgICBwZXRDb3VudGVyID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwZXRDb3VudGVyID0gc3RhdGUucGV0Q291bnRlciE7XG4gICAgfVxuXG4gICAgdmFyIHJlY292ZXJ5TWFwOiBNYXA8SVBldFR5cGUsIFBldEVsZW1lbnRTdGF0ZT4gPSBuZXcgTWFwKCk7XG4gICAgc3RhdGUucGV0U3RhdGVzIS5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIC8vIEZpeGVzIGEgYnVnIHJlbGF0ZWQgdG8gZHVjayBhbmltYXRpb25zXG4gICAgICAgIGlmICgocC5wZXRUeXBlIGFzIHN0cmluZykgPT09ICdydWJiZXIgZHVjaycpIHtcbiAgICAgICAgICAgIChwLnBldFR5cGUgYXMgc3RyaW5nKSA9ICdydWJiZXItZHVjayc7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG5ld1BldCA9IGFkZFBldFRvUGFuZWwoXG4gICAgICAgICAgICAgICAgcC5wZXRUeXBlISxcbiAgICAgICAgICAgICAgICBiYXNlUGV0VXJpLFxuICAgICAgICAgICAgICAgIHAucGV0Q29sb3IhLFxuICAgICAgICAgICAgICAgIHBldFNpemUsXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQocC5lbExlZnQhKSxcbiAgICAgICAgICAgICAgICBwYXJzZUludChwLmVsQm90dG9tISksXG4gICAgICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICAgICAgcC5wZXROYW1lLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGFsbFBldHMucHVzaChuZXdQZXQpO1xuICAgICAgICAgICAgcmVjb3ZlcnlNYXAuc2V0KG5ld1BldC5wZXQsIHApO1xuICAgICAgICB9IGNhdGNoIChJbnZhbGlkUGV0RXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAnU3RhdGUgaGFkIGludmFsaWQgcGV0ICgnICsgcC5wZXRUeXBlICsgJyksIGRpc2NhcmRpbmcuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZWNvdmVyeU1hcC5mb3JFYWNoKChzdGF0ZSwgcGV0KSA9PiB7XG4gICAgICAgIC8vIFJlY292ZXIgcHJldmlvdXMgc3RhdGUuXG4gICAgICAgIHBldC5yZWNvdmVyU3RhdGUoc3RhdGUucGV0U3RhdGUhKTtcblxuICAgICAgICAvLyBSZXNvbHZlIGZyaWVuZCByZWxhdGlvbnNoaXBzXG4gICAgICAgIHZhciBmcmllbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzdGF0ZS5wZXRGcmllbmQpIHtcbiAgICAgICAgICAgIGZyaWVuZCA9IGFsbFBldHMubG9jYXRlKHN0YXRlLnBldEZyaWVuZCk7XG4gICAgICAgICAgICBpZiAoZnJpZW5kKSB7XG4gICAgICAgICAgICAgICAgcGV0LnJlY292ZXJGcmllbmQoZnJpZW5kLnBldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tU3RhcnRQb3NpdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAod2luZG93LmlubmVyV2lkdGggKiAwLjcpKTtcbn1cblxubGV0IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG5mdW5jdGlvbiBpbml0Q2FudmFzKCkge1xuICAgIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXRDYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgY3R4LmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGN0eC5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xufVxuXG4vLyBJdCBjYW5ub3QgYWNjZXNzIHRoZSBtYWluIFZTIENvZGUgQVBJcyBkaXJlY3RseS5cbmV4cG9ydCBmdW5jdGlvbiBwZXRQYW5lbEFwcChcbiAgICBiYXNlUGV0VXJpOiBzdHJpbmcsXG4gICAgdGhlbWU6IFRoZW1lLFxuICAgIHRoZW1lS2luZDogQ29sb3JUaGVtZUtpbmQsXG4gICAgcGV0Q29sb3I6IFBldENvbG9yLFxuICAgIHBldFNpemU6IFBldFNpemUsXG4gICAgcGV0VHlwZTogUGV0VHlwZSxcbikge1xuICAgIGNvbnN0IGJhbGxSYWRpdXM6IG51bWJlciA9IGNhbGN1bGF0ZUJhbGxSYWRpdXMocGV0U2l6ZSk7XG4gICAgdmFyIGZsb29yID0gMDtcbiAgICAvLyBBcHBseSBUaGVtZSBiYWNrZ3JvdW5kc1xuICAgIGlmICh0aGVtZSAhPT0gVGhlbWUubm9uZSkge1xuICAgICAgICB2YXIgX3RoZW1lS2luZCA9ICcnO1xuICAgICAgICBzd2l0Y2ggKHRoZW1lS2luZCkge1xuICAgICAgICAgICAgY2FzZSBDb2xvclRoZW1lS2luZC5kYXJrOlxuICAgICAgICAgICAgICAgIF90aGVtZUtpbmQgPSAnZGFyayc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbG9yVGhlbWVLaW5kLmxpZ2h0OlxuICAgICAgICAgICAgICAgIF90aGVtZUtpbmQgPSAnbGlnaHQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb2xvclRoZW1lS2luZC5oaWdoQ29udHJhc3Q6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGVtZUtpbmQgPSAnbGlnaHQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKSEuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtiYXNlUGV0VXJpfS9iYWNrZ3JvdW5kcy8ke3RoZW1lfS9iYWNrZ3JvdW5kLSR7X3RoZW1lS2luZH0tJHtwZXRTaXplfS5wbmcnKWA7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgJ2ZvcmVncm91bmQnLFxuICAgICAgICApIS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke2Jhc2VQZXRVcml9L2JhY2tncm91bmRzLyR7dGhlbWV9L2ZvcmVncm91bmQtJHtfdGhlbWVLaW5kfS0ke3BldFNpemV9LnBuZycpYDtcblxuICAgICAgICBmbG9vciA9IGNhbGN1bGF0ZUZsb29yKHBldFNpemUsIHRoZW1lKTsgLy8gVGhlbWVzIGhhdmUgcGV0cyBhdCBhIHNwZWNpZmllZCBoZWlnaHQgZnJvbSB0aGUgZ3JvdW5kXG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKSEuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kJykhLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICcnO1xuICAgIH1cblxuICAgIC8vLyBCb3VuY2luZyBiYWxsIGNvbXBvbmVudHMsIGNyZWRpdCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjk5ODIzNDNcbiAgICBjb25zdCBncmF2aXR5OiBudW1iZXIgPSAwLjIsXG4gICAgICAgIGRhbXBpbmc6IG51bWJlciA9IDAuOSxcbiAgICAgICAgdHJhY3Rpb246IG51bWJlciA9IDAuODtcbiAgICB2YXIgYmFsbFN0YXRlOiBCYWxsU3RhdGU7XG5cbiAgICBmdW5jdGlvbiByZXNldEJhbGwoKSB7XG4gICAgICAgIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgYmFsbFN0YXRlID0gbmV3IEJhbGxTdGF0ZSgxMDAsIDEwMCwgMiwgNSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGhyb3dCYWxsKCkge1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGlmICghYmFsbFN0YXRlLnBhdXNlZCkge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRocm93QmFsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFsbFN0YXRlLmN4ICsgYmFsbFJhZGl1cyA+PSBjYW52YXMud2lkdGgpIHtcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eCA9IC1iYWxsU3RhdGUudnggKiBkYW1waW5nO1xuICAgICAgICAgICAgYmFsbFN0YXRlLmN4ID0gY2FudmFzLndpZHRoIC0gYmFsbFJhZGl1cztcbiAgICAgICAgfSBlbHNlIGlmIChiYWxsU3RhdGUuY3ggLSBiYWxsUmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eCA9IC1iYWxsU3RhdGUudnggKiBkYW1waW5nO1xuICAgICAgICAgICAgYmFsbFN0YXRlLmN4ID0gYmFsbFJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFsbFN0YXRlLmN5ICsgYmFsbFJhZGl1cyArIGZsb29yID49IGNhbnZhcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eSA9IC1iYWxsU3RhdGUudnkgKiBkYW1waW5nO1xuICAgICAgICAgICAgYmFsbFN0YXRlLmN5ID0gY2FudmFzLmhlaWdodCAtIGJhbGxSYWRpdXMgLSBmbG9vcjtcbiAgICAgICAgICAgIC8vIHRyYWN0aW9uIGhlcmVcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eCAqPSB0cmFjdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmIChiYWxsU3RhdGUuY3kgLSBiYWxsUmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eSA9IC1iYWxsU3RhdGUudnkgKiBkYW1waW5nO1xuICAgICAgICAgICAgYmFsbFN0YXRlLmN5ID0gYmFsbFJhZGl1cztcbiAgICAgICAgfVxuXG4gICAgICAgIGJhbGxTdGF0ZS52eSArPSBncmF2aXR5O1xuXG4gICAgICAgIGJhbGxTdGF0ZS5jeCArPSBiYWxsU3RhdGUudng7XG4gICAgICAgIGJhbGxTdGF0ZS5jeSArPSBiYWxsU3RhdGUudnk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKGJhbGxTdGF0ZS5jeCwgYmFsbFN0YXRlLmN5LCBiYWxsUmFkaXVzLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMyZWQ4NTEnO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBwZXQgc2Vzc2lvbicsIHBldENvbG9yLCBiYXNlUGV0VXJpLCBwZXRUeXBlKTtcbiAgICAvLyBOZXcgc2Vzc2lvblxuICAgIHZhciBzdGF0ZSA9IHZzY29kZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIHN0YXRlLCBzdGFydGluZyBhIG5ldyBzZXNzaW9uLicpO1xuICAgICAgICBwZXRDb3VudGVyID0gMTtcbiAgICAgICAgYWxsUGV0cy5wdXNoKFxuICAgICAgICAgICAgYWRkUGV0VG9QYW5lbChcbiAgICAgICAgICAgICAgICBwZXRUeXBlLFxuICAgICAgICAgICAgICAgIGJhc2VQZXRVcmksXG4gICAgICAgICAgICAgICAgcGV0Q29sb3IsXG4gICAgICAgICAgICAgICAgcGV0U2l6ZSxcbiAgICAgICAgICAgICAgICByYW5kb21TdGFydFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgICAgc2F2ZVN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlY292ZXJpbmcgc3RhdGUgLSAnLCBzdGF0ZSk7XG4gICAgICAgIHJlY292ZXJTdGF0ZShiYXNlUGV0VXJpLCBwZXRTaXplLCBmbG9vcik7XG4gICAgfVxuXG4gICAgaW5pdENhbnZhcygpO1xuXG4gICAgLy8gSGFuZGxlIG1lc3NhZ2VzIHNlbnQgZnJvbSB0aGUgZXh0ZW5zaW9uIHRvIHRoZSB3ZWJ2aWV3XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZlbnQpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7IC8vIFRoZSBqc29uIGRhdGEgdGhhdCB0aGUgZXh0ZW5zaW9uIHNlbnRcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLmNvbW1hbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Rocm93LWJhbGwnOlxuICAgICAgICAgICAgICAgIHJlc2V0QmFsbCgpO1xuICAgICAgICAgICAgICAgIHRocm93QmFsbCgpO1xuICAgICAgICAgICAgICAgIGFsbFBldHMucGV0cygpLmZvckVhY2goKHBldEVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZXRFbC5wZXQuY2FuQ2hhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGV0RWwucGV0LmNoYXNlKGJhbGxTdGF0ZSwgY2FudmFzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3Bhd24tcGV0JzpcbiAgICAgICAgICAgICAgICBhbGxQZXRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIGFkZFBldFRvUGFuZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlUGV0VXJpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBldFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5kb21TdGFydFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgc2F2ZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZWxldGUtcGV0JzpcbiAgICAgICAgICAgICAgICB2YXIgcGV0ID0gYWxsUGV0cy5sb2NhdGUobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHBldCkge1xuICAgICAgICAgICAgICAgICAgICBwZXQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNhdmVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2V0LXBldCc6XG4gICAgICAgICAgICAgICAgYWxsUGV0cy5wZXRzKCkuZm9yRWFjaCgocGV0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBldC5lbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGV0LmNvbGxpc2lvbi5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhbGxQZXRzLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgYWxsUGV0cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBhZGRQZXRUb1BhbmVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGV0VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VQZXRVcmksXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBldFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5kb21TdGFydFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcGV0Q291bnRlciA9IDE7XG4gICAgICAgICAgICAgICAgc2F2ZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXVzZS1wZXQnOlxuICAgICAgICAgICAgICAgIHBldENvdW50ZXIgPSAxO1xuICAgICAgICAgICAgICAgIHNhdmVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGVzaWduLXBldCc6XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKSEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNpZ25lcicpIS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVEZXNpZ25lcihiYXNlUGV0VXJpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xufVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBpbml0Q2FudmFzKCk7XG59KTtcbiIsImltcG9ydCB7IFBldENvbG9yLCBQZXRTaXplLCBQZXRTcGVlZCwgUGV0VHlwZSB9IGZyb20gJy4uL2NvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBJU2VxdWVuY2VUcmVlIH0gZnJvbSAnLi9zZXF1ZW5jZXMnO1xuaW1wb3J0IHtcbiAgICBJU3RhdGUsXG4gICAgU3RhdGVzLFxuICAgIHJlc29sdmVTdGF0ZSxcbiAgICBIb3Jpem9udGFsRGlyZWN0aW9uLFxuICAgIENoYXNlU3RhdGUsXG4gICAgQmFsbFN0YXRlLFxuICAgIEZyYW1lUmVzdWx0LFxuICAgIFBldEluc3RhbmNlU3RhdGUsXG4gICAgaXNTdGF0ZUFib3ZlR3JvdW5kLFxufSBmcm9tICcuL3N0YXRlcyc7XG5pbXBvcnQge1xuICAgIENBVF9OQU1FUyxcbiAgICBET0dfTkFNRVMsXG4gICAgQ1JBQl9OQU1FUyxcbiAgICBTTkFLRV9OQU1FUyxcbiAgICBDTElQUFlfTkFNRVMsXG4gICAgVE9UT1JPX05BTUVTLFxuICAgIERVQ0tfTkFNRVMsXG4gICAgWkFQUFlfTkFNRVMsXG4gICAgUk9DS1lfTkFNRVMsXG59IGZyb20gJy4uL2NvbW1vbi9uYW1lcyc7XG5pbXBvcnQgeyBQZXRTcGVjaWZpY2F0aW9uIH0gZnJvbSAnLi4vZXh0ZW5zaW9uL2V4dGVuc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBJbnZhbGlkU3RhdGVFeGNlcHRpb24ge31cblxuZXhwb3J0IGNsYXNzIFBldEVsZW1lbnQge1xuICAgIGVsOiBIVE1MSW1hZ2VFbGVtZW50O1xuICAgIGNvbGxpc2lvbjogSFRNTERpdkVsZW1lbnQ7XG4gICAgcGV0OiBJUGV0VHlwZTtcbiAgICBjb2xvcjogUGV0Q29sb3I7XG4gICAgdHlwZTogUGV0VHlwZTtcbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmNvbG9yID0gUGV0Q29sb3IubnVsbDtcbiAgICAgICAgdGhpcy50eXBlID0gUGV0VHlwZS5udWxsO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBlbDogSFRNTEltYWdlRWxlbWVudCxcbiAgICAgICAgY29sbGlzaW9uOiBIVE1MRGl2RWxlbWVudCxcbiAgICAgICAgcGV0OiBJUGV0VHlwZSxcbiAgICAgICAgY29sb3I6IFBldENvbG9yLFxuICAgICAgICB0eXBlOiBQZXRUeXBlLFxuICAgICkge1xuICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uID0gY29sbGlzaW9uO1xuICAgICAgICB0aGlzLnBldCA9IHBldDtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGV0Q29sbGVjdGlvbiB7XG4gICAgcGV0cygpOiBBcnJheTxQZXRFbGVtZW50PjtcbiAgICBwdXNoKHBldDogUGV0RWxlbWVudCk6IHZvaWQ7XG4gICAgcmVzZXQoKTogdm9pZDtcbiAgICBzZWVrTmV3RnJpZW5kcygpOiBzdHJpbmdbXTtcbiAgICBsb2NhdGUobmFtZTogc3RyaW5nKTogUGV0RWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgICByZW1vdmUobmFtZTogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFBldENvbGxlY3Rpb24gaW1wbGVtZW50cyBJUGV0Q29sbGVjdGlvbiB7XG4gICAgX3BldHM6IEFycmF5PFBldEVsZW1lbnQ+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3BldHMgPSBuZXcgQXJyYXkoMCk7XG4gICAgfVxuXG4gICAgcGV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BldHM7XG4gICAgfVxuXG4gICAgcHVzaChwZXQ6IFBldEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fcGV0cy5wdXNoKHBldCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX3BldHMgPSBbXTtcbiAgICB9XG5cbiAgICBsb2NhdGUobmFtZTogc3RyaW5nKTogUGV0RWxlbWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZXRzLmZpbmQoKGNvbGxlY3Rpb24sIHZhbHVlLCBvYmopID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnBldC5uYW1lKCkgPT09IG5hbWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbW92ZShuYW1lOiBzdHJpbmcpOiBhbnkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wZXRzW2ldLnBldC5uYW1lKCkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZXRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wZXRzLmZvckVhY2goKHBldCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBldC5wZXQubmFtZSgpID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcGV0LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZWVrTmV3RnJpZW5kcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIGlmICh0aGlzLl9wZXRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH0gLy8gWW91IGNhbid0IGJlIGZyaWVuZHMgd2l0aCB5b3Vyc2VsZi5cbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gbmV3IEFycmF5PHN0cmluZz4oMCk7XG4gICAgICAgIHRoaXMuX3BldHMuZm9yRWFjaCgocGV0SW5Db2xsZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAocGV0SW5Db2xsZWN0aW9uLnBldC5oYXNGcmllbmQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gLy8gSSBhbHJlYWR5IGhhdmUgYSBmcmllbmQhXG4gICAgICAgICAgICB0aGlzLl9wZXRzLmZvckVhY2goKHBvdGVudGlhbEZyaWVuZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwb3RlbnRpYWxGcmllbmQucGV0Lmhhc0ZyaWVuZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IC8vIEFscmVhZHkgaGFzIGEgZnJpZW5kLiBzb3JyeS5cbiAgICAgICAgICAgICAgICBpZiAoIXBvdGVudGlhbEZyaWVuZC5wZXQuY2FuQ2hhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSAvLyBQZXQgaXMgYnVzeSBkb2luZyBzb21ldGhpbmcgZWxzZS5cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHBvdGVudGlhbEZyaWVuZC5wZXQubGVmdCgpID4gcGV0SW5Db2xsZWN0aW9uLnBldC5sZWZ0KCkgJiZcbiAgICAgICAgICAgICAgICAgICAgcG90ZW50aWFsRnJpZW5kLnBldC5sZWZ0KCkgPFxuICAgICAgICAgICAgICAgICAgICAgICAgcGV0SW5Db2xsZWN0aW9uLnBldC5sZWZ0KCkgKyBwZXRJbkNvbGxlY3Rpb24ucGV0LndpZHRoKClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBwb3NzaWJsZSBuZXcgZnJpZW5kLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXRJbkNvbGxlY3Rpb24ucGV0Lm5hbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICcgd2FudHMgdG8gYmUgZnJpZW5kcyB3aXRoICcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3RlbnRpYWxGcmllbmQucGV0Lm5hbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICcuJyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGV0SW5Db2xsZWN0aW9uLnBldC5tYWtlRnJpZW5kc1dpdGgocG90ZW50aWFsRnJpZW5kLnBldClcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3BldEluQ29sbGVjdGlvbi5wZXQubmFtZSgpfSAoJHtwZXRJbkNvbGxlY3Rpb24ucGV0LmVtb2ppKCl9KTogSSdtIG5vdyBmcmllbmRzIOKdpO+4jyB3aXRoICR7cG90ZW50aWFsRnJpZW5kLnBldC5uYW1lKCl9ICgke3BvdGVudGlhbEZyaWVuZC5wZXQuZW1vamkoKX0pYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBldFR5cGUge1xuICAgIG5leHRGcmFtZSgpOiB2b2lkO1xuXG4gICAgLy8gU3BlY2lhbCBtZXRob2RzIGZvciBhY3Rpb25zXG4gICAgY2FuU3dpcGUoKTogYm9vbGVhbjtcbiAgICBjYW5DaGFzZSgpOiBib29sZWFuO1xuICAgIHN3aXBlKCk6IHZvaWQ7XG4gICAgY2hhc2UoYmFsbFN0YXRlOiBCYWxsU3RhdGUsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpOiB2b2lkO1xuICAgIHNwZWVkKCk6IG51bWJlcjtcbiAgICBpc01vdmluZygpOiBib29sZWFuO1xuXG4gICAgLy8gU3RhdGUgQVBJXG4gICAgZ2V0U3RhdGUoKTogUGV0SW5zdGFuY2VTdGF0ZTtcbiAgICByZWNvdmVyU3RhdGUoc3RhdGU6IFBldEluc3RhbmNlU3RhdGUpOiB2b2lkO1xuICAgIHJlY292ZXJGcmllbmQoZnJpZW5kOiBJUGV0VHlwZSk6IHZvaWQ7XG5cbiAgICAvLyBQb3NpdGlvbmluZ1xuICAgIGJvdHRvbSgpOiBudW1iZXI7XG4gICAgbGVmdCgpOiBudW1iZXI7XG4gICAgcG9zaXRpb25Cb3R0b20oYm90dG9tOiBudW1iZXIpOiB2b2lkO1xuICAgIHBvc2l0aW9uTGVmdChsZWZ0OiBudW1iZXIpOiB2b2lkO1xuICAgIHdpZHRoKCk6IG51bWJlcjtcbiAgICBmbG9vcigpOiBudW1iZXI7XG5cbiAgICAvLyBGcmllbmRzIEFQSVxuICAgIG5hbWUoKTogc3RyaW5nO1xuICAgIGVtb2ppKCk6IHN0cmluZztcbiAgICBoYXNGcmllbmQoKTogYm9vbGVhbjtcbiAgICBmcmllbmQoKTogSVBldFR5cGU7XG4gICAgbWFrZUZyaWVuZHNXaXRoKGZyaWVuZDogSVBldFR5cGUpOiBib29sZWFuO1xuICAgIGlzUGxheWluZygpOiBib29sZWFuO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVXaWR0aChzaXplOiBQZXRTaXplKTogbnVtYmVyIHtcbiAgICBpZiAoc2l6ZSA9PT0gUGV0U2l6ZS5uYW5vKSB7XG4gICAgICAgIHJldHVybiAzMDtcbiAgICB9IGVsc2UgaWYgKHNpemUgPT09IFBldFNpemUubWVkaXVtKSB7XG4gICAgICAgIHJldHVybiA1NTtcbiAgICB9IGVsc2UgaWYgKHNpemUgPT09IFBldFNpemUubGFyZ2UpIHtcbiAgICAgICAgcmV0dXJuIDExMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gMzA7IC8vIFNocnVnXG4gICAgfVxufVxuXG5hYnN0cmFjdCBjbGFzcyBCYXNlUGV0VHlwZSBpbXBsZW1lbnRzIElQZXRUeXBlIHtcbiAgICBsYWJlbDogc3RyaW5nID0gJ2Jhc2UnO1xuICAgIHN0YXRpYyBjb3VudDogbnVtYmVyID0gMDtcbiAgICBzZXF1ZW5jZTogSVNlcXVlbmNlVHJlZSA9IHtcbiAgICAgICAgc3RhcnRpbmdTdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXSxcbiAgICB9O1xuICAgIGN1cnJlbnRTdGF0ZTogSVN0YXRlO1xuICAgIGN1cnJlbnRTdGF0ZUVudW06IFN0YXRlcztcbiAgICBob2xkU3RhdGU6IElTdGF0ZSB8IHVuZGVmaW5lZDtcbiAgICBob2xkU3RhdGVFbnVtOiBTdGF0ZXMgfCB1bmRlZmluZWQ7XG4gICAgcHJpdmF0ZSBlbDogSFRNTEltYWdlRWxlbWVudDtcbiAgICBwcml2YXRlIGNvbGxpc2lvbjogSFRNTERpdkVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfbGVmdDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2JvdHRvbTogbnVtYmVyO1xuICAgIHBldFJvb3Q6IHN0cmluZztcbiAgICBfZmxvb3I6IG51bWJlcjtcbiAgICBfZnJpZW5kOiBJUGV0VHlwZSB8IHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfc3BlZWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBzcHJpdGVFbGVtZW50OiBIVE1MSW1hZ2VFbGVtZW50LFxuICAgICAgICBjb2xsaXNpb25FbGVtZW50OiBIVE1MRGl2RWxlbWVudCxcbiAgICAgICAgc2l6ZTogUGV0U2l6ZSxcbiAgICAgICAgbGVmdDogbnVtYmVyLFxuICAgICAgICBib3R0b206IG51bWJlcixcbiAgICAgICAgcGV0Um9vdDogc3RyaW5nLFxuICAgICAgICBmbG9vcjogbnVtYmVyLFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHNwZWVkOiBudW1iZXIsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuZWwgPSBzcHJpdGVFbGVtZW50O1xuICAgICAgICB0aGlzLmNvbGxpc2lvbiA9IGNvbGxpc2lvbkVsZW1lbnQ7XG4gICAgICAgIHRoaXMucGV0Um9vdCA9IHBldFJvb3Q7XG4gICAgICAgIHRoaXMuX2Zsb29yID0gZmxvb3I7XG4gICAgICAgIHRoaXMuX2xlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLl9ib3R0b20gPSBib3R0b207XG4gICAgICAgIHRoaXMuaW5pdFNwcml0ZShzaXplLCBsZWZ0LCBib3R0b20pO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSB0aGlzLnNlcXVlbmNlLnN0YXJ0aW5nU3RhdGU7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gcmVzb2x2ZVN0YXRlKHRoaXMuY3VycmVudFN0YXRlRW51bSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XG5cbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSBzdGF0aWMgY291bnQgb2YgdGhlIFBldCBjbGFzcyB0aGF0IHRoZSBjb25zdHJ1Y3RvciBiZWxvbmdzIHRvXG4gICAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIGFueSkuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBpbml0U3ByaXRlKHBldFNpemU6IFBldFNpemUsIGxlZnQ6IG51bWJlciwgYm90dG9tOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuYm90dG9tID0gYCR7Ym90dG9tfXB4YDtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9ICdhdXRvJztcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUubWF4V2lkdGggPSBgJHtjYWxjdWxhdGVTcHJpdGVXaWR0aChwZXRTaXplKX1weGA7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUubWF4SGVpZ2h0ID0gYCR7Y2FsY3VsYXRlU3ByaXRlV2lkdGgocGV0U2l6ZSl9cHhgO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbi5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmJvdHRvbSA9IGAke2JvdHRvbX1weGA7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLndpZHRoID0gYCR7Y2FsY3VsYXRlU3ByaXRlV2lkdGgocGV0U2l6ZSl9cHhgO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbi5zdHlsZS5oZWlnaHQgPSBgJHtjYWxjdWxhdGVTcHJpdGVXaWR0aChwZXRTaXplKX1weGA7XG4gICAgfVxuXG4gICAgbGVmdCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGVmdDtcbiAgICB9XG5cbiAgICBib3R0b20oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdHRvbTtcbiAgICB9XG5cbiAgICBwb3NpdGlvbkJvdHRvbShib3R0b206IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLl9ib3R0b20gPSBib3R0b207XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuYm90dG9tID0gYCR7dGhpcy5fYm90dG9tfXB4YDtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5ib3R0b20gPSBgJHt0aGlzLl9ib3R0b219cHhgO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbi5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5fbGVmdH1weGA7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmJvdHRvbSA9IGAke3RoaXMuX2JvdHRvbX1weGA7XG4gICAgfVxuXG4gICAgcG9zaXRpb25MZWZ0KGxlZnQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLl9sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5fbGVmdH1weGA7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUubGVmdCA9IGAke3RoaXMuX2xlZnR9cHhgO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbi5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5fbGVmdH1weGA7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmJvdHRvbSA9IGAke3RoaXMuX2JvdHRvbX1weGA7XG4gICAgfVxuXG4gICAgd2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWwud2lkdGg7XG4gICAgfVxuXG4gICAgZmxvb3IoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zsb29yO1xuICAgIH1cblxuICAgIGdldFN0YXRlKCk6IFBldEluc3RhbmNlU3RhdGUge1xuICAgICAgICByZXR1cm4geyBjdXJyZW50U3RhdGVFbnVtOiB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gfTtcbiAgICB9XG5cbiAgICBzcGVlZCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XG4gICAgfVxuXG4gICAgaXNNb3ZpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGVlZCAhPT0gUGV0U3BlZWQuc3RpbGw7XG4gICAgfVxuXG4gICAgcmVjb3ZlckZyaWVuZChmcmllbmQ6IElQZXRUeXBlKSB7XG4gICAgICAgIC8vIFJlY292ZXIgZnJpZW5kcy4uXG4gICAgICAgIHRoaXMuX2ZyaWVuZCA9IGZyaWVuZDtcbiAgICB9XG5cbiAgICByZWNvdmVyU3RhdGUoc3RhdGU6IFBldEluc3RhbmNlU3RhdGUpIHtcbiAgICAgICAgLy8gVE9ETyA6IFJlc29sdmUgYSBidWcgd2hlcmUgaWYgaXQgd2FzIHN3aXBpbmcgYmVmb3JlLCBpdCB3b3VsZCBmYWlsXG4gICAgICAgIC8vIGJlY2F1c2UgaG9sZFN0YXRlIGlzIG5vIGxvbmdlciB2YWxpZC5cbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID0gc3RhdGUuY3VycmVudFN0YXRlRW51bSE7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gcmVzb2x2ZVN0YXRlKHRoaXMuY3VycmVudFN0YXRlRW51bSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCFpc1N0YXRlQWJvdmVHcm91bmQodGhpcy5jdXJyZW50U3RhdGVFbnVtKSkge1xuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGJvdHRvbSBvZiB0aGUgc3ByaXRlIHRvIHRoZSBmbG9vciBhcyB0aGUgdGhlbWVcbiAgICAgICAgICAgIC8vIGhhcyBsaWtlbHkgY2hhbmdlZC5cbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25Cb3R0b20odGhpcy5mbG9vcigpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhblN3aXBlKCkge1xuICAgICAgICByZXR1cm4gIWlzU3RhdGVBYm92ZUdyb3VuZCh0aGlzLmN1cnJlbnRTdGF0ZUVudW0pO1xuICAgIH1cblxuICAgIGNhbkNoYXNlKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgIWlzU3RhdGVBYm92ZUdyb3VuZCh0aGlzLmN1cnJlbnRTdGF0ZUVudW0pICYmXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gIT09IFN0YXRlcy5jaGFzZSAmJlxuICAgICAgICAgICAgdGhpcy5pc01vdmluZygpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3dpcGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPT09IFN0YXRlcy5zd2lwZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG9sZFN0YXRlID0gdGhpcy5jdXJyZW50U3RhdGU7XG4gICAgICAgIHRoaXMuaG9sZFN0YXRlRW51bSA9IHRoaXMuY3VycmVudFN0YXRlRW51bTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID0gU3RhdGVzLnN3aXBlO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHJlc29sdmVTdGF0ZSh0aGlzLmN1cnJlbnRTdGF0ZUVudW0sIHRoaXMpO1xuICAgIH1cblxuICAgIGNoYXNlKGJhbGxTdGF0ZTogQmFsbFN0YXRlLCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSA9IFN0YXRlcy5jaGFzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBuZXcgQ2hhc2VTdGF0ZSh0aGlzLCBiYWxsU3RhdGUsIGNhbnZhcyk7XG4gICAgfVxuXG4gICAgZmFjZUxlZnQoKSB7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgtMSknO1xuICAgIH1cblxuICAgIGZhY2VSaWdodCgpIHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKDEpJztcbiAgICB9XG5cbiAgICBzZXRBbmltYXRpb24oZmFjZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmVsLnNyYy5lbmRzV2l0aChgXyR7ZmFjZX1fOGZwcy5naWZgKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWwuc3JjID0gYCR7dGhpcy5wZXRSb290fV8ke2ZhY2V9XzhmcHMuZ2lmYDtcbiAgICB9XG5cbiAgICBjaG9vc2VOZXh0U3RhdGUoZnJvbVN0YXRlOiBTdGF0ZXMpOiBTdGF0ZXMge1xuICAgICAgICAvLyBXb3JrIG91dCBuZXh0IHN0YXRlXG4gICAgICAgIHZhciBwb3NzaWJsZU5leHRTdGF0ZXM6IFN0YXRlc1tdIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VxdWVuY2Uuc2VxdWVuY2VTdGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlcXVlbmNlLnNlcXVlbmNlU3RhdGVzW2ldLnN0YXRlID09PSBmcm9tU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXMgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlLnNlcXVlbmNlU3RhdGVzW2ldLnBvc3NpYmxlTmV4dFN0YXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBvc3NpYmxlTmV4dFN0YXRlcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRTdGF0ZUV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJhbmRvbWx5IGNob29zZSB0aGUgbmV4dCBzdGF0ZVxuICAgICAgICBjb25zdCBpZHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZU5leHRTdGF0ZXMubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHBvc3NpYmxlTmV4dFN0YXRlc1tpZHhdO1xuICAgIH1cblxuICAgIG5leHRGcmFtZSgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUuaG9yaXpvbnRhbERpcmVjdGlvbiA9PT0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0XG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5mYWNlTGVmdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUuaG9yaXpvbnRhbERpcmVjdGlvbiA9PT0gSG9yaXpvbnRhbERpcmVjdGlvbi5yaWdodFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuZmFjZVJpZ2h0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRBbmltYXRpb24odGhpcy5jdXJyZW50U3RhdGUuc3ByaXRlTGFiZWwpO1xuXG4gICAgICAgIC8vIFdoYXQncyBteSBidWRkeSBkb2luZz9cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5oYXNGcmllbmQoKSAmJlxuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtICE9PSBTdGF0ZXMuY2hhc2VGcmllbmQgJiZcbiAgICAgICAgICAgIHRoaXMuaXNNb3ZpbmcoKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLmZyaWVuZCgpLmlzUGxheWluZygpICYmXG4gICAgICAgICAgICAgICAgIWlzU3RhdGVBYm92ZUdyb3VuZCh0aGlzLmN1cnJlbnRTdGF0ZUVudW0pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHJlc29sdmVTdGF0ZShTdGF0ZXMuY2hhc2VGcmllbmQsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSA9IFN0YXRlcy5jaGFzZUZyaWVuZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZnJhbWVSZXN1bHQgPSB0aGlzLmN1cnJlbnRTdGF0ZS5uZXh0RnJhbWUoKTtcbiAgICAgICAgaWYgKGZyYW1lUmVzdWx0ID09PSBGcmFtZVJlc3VsdC5zdGF0ZUNvbXBsZXRlKSB7XG4gICAgICAgICAgICAvLyBJZiByZWNvdmVyaW5nIGZyb20gc3dpcGUuLlxuICAgICAgICAgICAgaWYgKHRoaXMuaG9sZFN0YXRlICYmIHRoaXMuaG9sZFN0YXRlRW51bSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gdGhpcy5ob2xkU3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID0gdGhpcy5ob2xkU3RhdGVFbnVtO1xuICAgICAgICAgICAgICAgIHRoaXMuaG9sZFN0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuaG9sZFN0YXRlRW51bSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB0aGlzLmNob29zZU5leHRTdGF0ZSh0aGlzLmN1cnJlbnRTdGF0ZUVudW0pO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSByZXNvbHZlU3RhdGUobmV4dFN0YXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSA9IG5leHRTdGF0ZTtcbiAgICAgICAgfSBlbHNlIGlmIChmcmFtZVJlc3VsdCA9PT0gRnJhbWVSZXN1bHQuc3RhdGVDYW5jZWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPT09IFN0YXRlcy5jaGFzZSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB0aGlzLmNob29zZU5leHRTdGF0ZShTdGF0ZXMuaWRsZVdpdGhCYWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHJlc29sdmVTdGF0ZShuZXh0U3RhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSA9IG5leHRTdGF0ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50U3RhdGVFbnVtID09PSBTdGF0ZXMuY2hhc2VGcmllbmQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFN0YXRlID0gdGhpcy5jaG9vc2VOZXh0U3RhdGUoU3RhdGVzLmlkbGVXaXRoQmFsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSByZXNvbHZlU3RhdGUobmV4dFN0YXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSBuZXh0U3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNGcmllbmQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmllbmQgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmcmllbmQoKTogSVBldFR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnJpZW5kITtcbiAgICB9XG5cbiAgICBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cblxuICAgIG1ha2VGcmllbmRzV2l0aChmcmllbmQ6IElQZXRUeXBlKTogYm9vbGVhbiB7XG4gICAgICAgIHRoaXMuX2ZyaWVuZCA9IGZyaWVuZDtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5uYW1lKCksIFwiOiBJJ20gbm93IGZyaWVuZHMg4p2k77iPIHdpdGggXCIsIGZyaWVuZC5uYW1lKCkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc1BsYXlpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLmlzTW92aW5nKCkgJiZcbiAgICAgICAgICAgICh0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPT09IFN0YXRlcy5ydW5SaWdodCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSA9PT0gU3RhdGVzLnJ1bkxlZnQpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZW1vamkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICfwn5C2JztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb3Rvcm8gZXh0ZW5kcyBCYXNlUGV0VHlwZSB7XG4gICAgbGFiZWwgPSAndG90b3JvJztcbiAgICBzZXF1ZW5jZSA9IHtcbiAgICAgICAgc3RhcnRpbmdTdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5saWVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmxpZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMud2Fsa0xlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5zaXRJZGxlXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5jbGltYldhbGxMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNsaW1iV2FsbExlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGxIYW5nTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2FsbEhhbmdMZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5qdW1wRG93bkxlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmp1bXBEb3duTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMubGFuZF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMubGFuZCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5saWUsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jaGFzZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuaWRsZVdpdGhCYWxsXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5pZGxlV2l0aEJhbGwsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLndhbGtMZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfTtcbiAgICBlbW9qaSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ/CfkL4nO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDYXQgZXh0ZW5kcyBCYXNlUGV0VHlwZSB7XG4gICAgbGFiZWwgPSAnY2F0JztcbiAgICBzZXF1ZW5jZSA9IHtcbiAgICAgICAgc3RhcnRpbmdTdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLmNsaW1iV2FsbExlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMuY2xpbWJXYWxsTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuY2xpbWJXYWxsTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2FsbEhhbmdMZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxsSGFuZ0xlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmp1bXBEb3duTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuanVtcERvd25MZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5sYW5kXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5sYW5kLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuY2hhc2UsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmlkbGVXaXRoQmFsbF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuaWRsZVdpdGhCYWxsLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5MZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfTtcbiAgICBlbW9qaSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ/CfkLEnO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERvZyBleHRlbmRzIEJhc2VQZXRUeXBlIHtcbiAgICBsYWJlbCA9ICdkb2cnO1xuICAgIHNlcXVlbmNlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLmxpZSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmxpZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMucnVuUmlnaHRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5saWUsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMubGllLFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jaGFzZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuaWRsZVdpdGhCYWxsXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5pZGxlV2l0aEJhbGwsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGVtb2ppKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAn8J+Qtic7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU25ha2UgZXh0ZW5kcyBCYXNlUGV0VHlwZSB7XG4gICAgbGFiZWwgPSAnc25ha2UnO1xuICAgIHNlcXVlbmNlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5MZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuY2hhc2UsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmlkbGVXaXRoQmFsbF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuaWRsZVdpdGhCYWxsLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5MZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfTtcbiAgICBlbW9qaSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ/CfkI0nO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsaXBweSBleHRlbmRzIEJhc2VQZXRUeXBlIHtcbiAgICBsYWJlbCA9ICdjbGlwcHknO1xuICAgIHNlcXVlbmNlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNoYXNlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5pZGxlV2l0aEJhbGxdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmlkbGVXaXRoQmFsbCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH07XG4gICAgZW1vamkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICfwn5OOJztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSdWJiZXJEdWNrIGV4dGVuZHMgQmFzZVBldFR5cGUge1xuICAgIGxhYmVsID0gJ3J1YmJlci1kdWNrJztcbiAgICBzZXF1ZW5jZSA9IHtcbiAgICAgICAgc3RhcnRpbmdTdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5zaXRJZGxlXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5MZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5zaXRJZGxlXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jaGFzZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuaWRsZVdpdGhCYWxsXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5pZGxlV2l0aEJhbGwsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGVtb2ppKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAn8J+QpSc7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JhYiBleHRlbmRzIEJhc2VQZXRUeXBlIHtcbiAgICBsYWJlbCA9ICdjcmFiJztcbiAgICBzZXF1ZW5jZSA9IHtcbiAgICAgICAgc3RhcnRpbmdTdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5zaXRJZGxlXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5MZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5zaXRJZGxlXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jaGFzZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuaWRsZVdpdGhCYWxsXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5pZGxlV2l0aEJhbGwsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGVtb2ppKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAn8J+mgCc7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgWmFwcHkgZXh0ZW5kcyBCYXNlUGV0VHlwZSB7XG4gICAgbGFiZWwgPSAnemFwcHknO1xuICAgIHNlcXVlbmNlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNoYXNlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5pZGxlV2l0aEJhbGxdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmlkbGVXaXRoQmFsbCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH07XG4gICAgZW1vamkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICfimqEnO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJvY2t5IGV4dGVuZHMgQmFzZVBldFR5cGUge1xuICAgIGxhYmVsID0gJ3JvY2t5JztcbiAgICBzZXF1ZW5jZSA9IHtcbiAgICAgICAgc3RhcnRpbmdTdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5zaXRJZGxlLCBTdGF0ZXMucnVuUmlnaHRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5zaXRJZGxlLCBTdGF0ZXMud2Fsa1JpZ2h0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfTtcbiAgICBlbW9qaSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ/Cfko4nO1xuICAgIH1cbiAgICBjYW5DaGFzZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludmFsaWRQZXRFeGNlcHRpb24ge31cblxuZnVuY3Rpb24gZ2V0UGV0TmFtZShcbiAgICBjb2xsZWN0aW9uOiBNYXA8bnVtYmVyLCBzdHJpbmc+LFxuICAgIGxhYmVsOiBzdHJpbmcsXG4gICAgY291bnQ6IG51bWJlcixcbik6IHN0cmluZyB7XG4gICAgaWYgKGNvbGxlY3Rpb24uaGFzKGNvdW50KSkge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5nZXQoY291bnQpITtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbGFiZWwgKyBjb3VudDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQZXQoXG4gICAgcGV0VHlwZTogc3RyaW5nLFxuICAgIGVsOiBIVE1MSW1hZ2VFbGVtZW50LFxuICAgIGNvbGxpc2lvbjogSFRNTERpdkVsZW1lbnQsXG4gICAgc2l6ZTogUGV0U2l6ZSxcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgYm90dG9tOiBudW1iZXIsXG4gICAgcGV0Um9vdDogc3RyaW5nLFxuICAgIGZsb29yOiBudW1iZXIsXG4gICAgbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuKTogSVBldFR5cGUge1xuICAgIGlmIChwZXRUeXBlID09PSAndG90b3JvJykge1xuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuYW1lID0gZ2V0UGV0TmFtZShUT1RPUk9fTkFNRVMsIFBldFR5cGUudG90b3JvLCBUb3Rvcm8uY291bnQgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRvdG9ybyhcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBwZXRSb290LFxuICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgUGV0U3BlZWQubm9ybWFsLFxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAocGV0VHlwZSA9PT0gJ2NhdCcpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmFtZSA9IGdldFBldE5hbWUoXG4gICAgICAgICAgICAgICAgQ0FUX05BTUVTLFxuICAgICAgICAgICAgICAgIFBldFR5cGUuY2F0LFxuICAgICAgICAgICAgICAgIENhdC5jb3VudCArIERvZy5jb3VudCArIDEsXG4gICAgICAgICAgICApO1xuICAgICAgICB9IC8vIENhdCBhbmQgZG9nIHNoYXJlIHRoZSBzYW1lIG5hbWUgbGlzdFxuICAgICAgICByZXR1cm4gbmV3IENhdChcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBwZXRSb290LFxuICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgUGV0U3BlZWQubm9ybWFsLFxuICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAocGV0VHlwZSA9PT0gJ2RvZycpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmFtZSA9IGdldFBldE5hbWUoXG4gICAgICAgICAgICAgICAgRE9HX05BTUVTLFxuICAgICAgICAgICAgICAgIFBldFR5cGUuZG9nLFxuICAgICAgICAgICAgICAgIERvZy5jb3VudCArIENhdC5jb3VudCArIDEsXG4gICAgICAgICAgICApO1xuICAgICAgICB9IC8vIENhdCBhbmQgZG9nIHNoYXJlIHRoZSBzYW1lIG5hbWUgbGlzdFxuICAgICAgICByZXR1cm4gbmV3IERvZyhcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBwZXRSb290LFxuICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgUGV0U3BlZWQubm9ybWFsLFxuICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAocGV0VHlwZSA9PT0gJ3NuYWtlJykge1xuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuYW1lID0gZ2V0UGV0TmFtZShTTkFLRV9OQU1FUywgUGV0VHlwZS5zbmFrZSwgU25ha2UuY291bnQgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNuYWtlKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIHBldFJvb3QsXG4gICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBQZXRTcGVlZC52ZXJ5U2xvdyxcbiAgICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBldFR5cGUgPT09ICdjbGlwcHknKSB7XG4gICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5hbWUgPSBnZXRQZXROYW1lKENMSVBQWV9OQU1FUywgUGV0VHlwZS5jbGlwcHksIENsaXBweS5jb3VudCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2xpcHB5KFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIHBldFJvb3QsXG4gICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBQZXRTcGVlZC5zbG93LFxuICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAocGV0VHlwZSA9PT0gJ2NyYWInKSB7XG4gICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5hbWUgPSBnZXRQZXROYW1lKENSQUJfTkFNRVMsIFBldFR5cGUuY3JhYiwgQ3JhYi5jb3VudCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ3JhYihcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBwZXRSb290LFxuICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgUGV0U3BlZWQuc2xvdyxcbiAgICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBldFR5cGUgPT09ICdydWJiZXItZHVjaycpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmFtZSA9IGdldFBldE5hbWUoXG4gICAgICAgICAgICAgICAgRFVDS19OQU1FUyxcbiAgICAgICAgICAgICAgICBQZXRUeXBlLnJ1YmJlcmR1Y2ssXG4gICAgICAgICAgICAgICAgUnViYmVyRHVjay5jb3VudCArIDEsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUnViYmVyRHVjayhcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBwZXRSb290LFxuICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgUGV0U3BlZWQuZmFzdCxcbiAgICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBldFR5cGUgPT09ICd6YXBweScpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmFtZSA9IGdldFBldE5hbWUoWkFQUFlfTkFNRVMsIFBldFR5cGUuemFwcHksIFphcHB5LmNvdW50ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBaYXBweShcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBwZXRSb290LFxuICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgUGV0U3BlZWQudmVyeUZhc3QsXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmIChwZXRUeXBlID09PSAncm9ja3knKSB7XG4gICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5hbWUgPSBnZXRQZXROYW1lKFJPQ0tZX05BTUVTLCBQZXRUeXBlLnJvY2t5LCBSb2NreS5jb3VudCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUm9ja3koXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgcGV0Um9vdCxcbiAgICAgICAgICAgIGZsb29yLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIFBldFNwZWVkLnN0aWxsLFxuICAgICAgICApO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgSW52YWxpZFBldEV4Y2VwdGlvbigpO1xufVxuIiwiaW1wb3J0IHsgUGV0Q29sb3IsIFBldFR5cGUgfSBmcm9tICcuLi9jb21tb24vdHlwZXMnO1xuaW1wb3J0IHsgSVBldFR5cGUgfSBmcm9tICcuL3BldHMnO1xuXG5leHBvcnQgY2xhc3MgUGV0SW5zdGFuY2VTdGF0ZSB7XG4gICAgY3VycmVudFN0YXRlRW51bTogU3RhdGVzIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgUGV0RWxlbWVudFN0YXRlIHtcbiAgICBwZXRTdGF0ZTogUGV0SW5zdGFuY2VTdGF0ZSB8IHVuZGVmaW5lZDtcbiAgICBwZXRUeXBlOiBQZXRUeXBlIHwgdW5kZWZpbmVkO1xuICAgIHBldENvbG9yOiBQZXRDb2xvciB8IHVuZGVmaW5lZDtcbiAgICBlbExlZnQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBlbEJvdHRvbTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIHBldE5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBwZXRGcmllbmQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIFBldFBhbmVsU3RhdGUge1xuICAgIHBldFN0YXRlczogQXJyYXk8UGV0RWxlbWVudFN0YXRlPiB8IHVuZGVmaW5lZDtcbiAgICBwZXRDb3VudGVyOiBudW1iZXIgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBlbnVtIEhvcml6b250YWxEaXJlY3Rpb24ge1xuICAgIGxlZnQsXG4gICAgcmlnaHQsXG4gICAgbmF0dXJhbCwgLy8gTm8gY2hhbmdlIHRvIGN1cnJlbnQgZGlyZWN0aW9uXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIFN0YXRlcyB7XG4gICAgc2l0SWRsZSA9ICdzaXQtaWRsZScsXG4gICAgd2Fsa1JpZ2h0ID0gJ3dhbGstcmlnaHQnLFxuICAgIHdhbGtMZWZ0ID0gJ3dhbGstbGVmdCcsXG4gICAgcnVuUmlnaHQgPSAncnVuLXJpZ2h0JyxcbiAgICBydW5MZWZ0ID0gJ3J1bi1sZWZ0JyxcbiAgICBsaWUgPSAnbGllJyxcbiAgICB3YWxsSGFuZ0xlZnQgPSAnd2FsbC1oYW5nLWxlZnQnLFxuICAgIGNsaW1iV2FsbExlZnQgPSAnY2xpbWItd2FsbC1sZWZ0JyxcbiAgICBqdW1wRG93bkxlZnQgPSAnanVtcC1kb3duLWxlZnQnLFxuICAgIGxhbmQgPSAnbGFuZCcsXG4gICAgc3dpcGUgPSAnc3dpcGUnLFxuICAgIGlkbGVXaXRoQmFsbCA9ICdpZGxlLXdpdGgtYmFsbCcsXG4gICAgY2hhc2UgPSAnY2hhc2UnLFxuICAgIGNoYXNlRnJpZW5kID0gJ2NoYXNlLWZyaWVuZCcsXG59XG5cbmV4cG9ydCBlbnVtIEZyYW1lUmVzdWx0IHtcbiAgICBzdGF0ZUNvbnRpbnVlLFxuICAgIHN0YXRlQ29tcGxldGUsXG4gICAgLy8gU3BlY2lhbCBzdGF0ZXNcbiAgICBzdGF0ZUNhbmNlbCxcbn1cblxuZXhwb3J0IGNsYXNzIEJhbGxTdGF0ZSB7XG4gICAgY3g6IG51bWJlcjtcbiAgICBjeTogbnVtYmVyO1xuICAgIHZ4OiBudW1iZXI7XG4gICAgdnk6IG51bWJlcjtcbiAgICBwYXVzZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihjeDogbnVtYmVyLCBjeTogbnVtYmVyLCB2eDogbnVtYmVyLCB2eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY3ggPSBjeDtcbiAgICAgICAgdGhpcy5jeSA9IGN5O1xuICAgICAgICB0aGlzLnZ4ID0gdng7XG4gICAgICAgIHRoaXMudnkgPSB2eTtcbiAgICAgICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N0YXRlQWJvdmVHcm91bmQoc3RhdGU6IFN0YXRlcyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIHN0YXRlID09PSBTdGF0ZXMuY2xpbWJXYWxsTGVmdCB8fFxuICAgICAgICBzdGF0ZSA9PT0gU3RhdGVzLmp1bXBEb3duTGVmdCB8fFxuICAgICAgICBzdGF0ZSA9PT0gU3RhdGVzLmxhbmQgfHxcbiAgICAgICAgc3RhdGUgPT09IFN0YXRlcy53YWxsSGFuZ0xlZnRcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVN0YXRlKHN0YXRlOiBzdHJpbmcsIHBldDogSVBldFR5cGUpOiBJU3RhdGUge1xuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgY2FzZSBTdGF0ZXMuc2l0SWRsZTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2l0SWRsZVN0YXRlKHBldCk7XG4gICAgICAgIGNhc2UgU3RhdGVzLndhbGtSaWdodDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgV2Fsa1JpZ2h0U3RhdGUocGV0KTtcbiAgICAgICAgY2FzZSBTdGF0ZXMud2Fsa0xlZnQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdhbGtMZWZ0U3RhdGUocGV0KTtcbiAgICAgICAgY2FzZSBTdGF0ZXMucnVuUmlnaHQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1blJpZ2h0U3RhdGUocGV0KTtcbiAgICAgICAgY2FzZSBTdGF0ZXMucnVuTGVmdDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVuTGVmdFN0YXRlKHBldCk7XG4gICAgICAgIGNhc2UgU3RhdGVzLmxpZTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGllU3RhdGUocGV0KTtcbiAgICAgICAgY2FzZSBTdGF0ZXMud2FsbEhhbmdMZWZ0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBXYWxsSGFuZ0xlZnRTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy5jbGltYldhbGxMZWZ0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDbGltYldhbGxMZWZ0U3RhdGUocGV0KTtcbiAgICAgICAgY2FzZSBTdGF0ZXMuanVtcERvd25MZWZ0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBKdW1wRG93bkxlZnRTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy5sYW5kOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMYW5kU3RhdGUocGV0KTtcbiAgICAgICAgY2FzZSBTdGF0ZXMuc3dpcGU6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN3aXBlU3RhdGUocGV0KTtcbiAgICAgICAgY2FzZSBTdGF0ZXMuaWRsZVdpdGhCYWxsOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJZGxlV2l0aEJhbGxTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy5jaGFzZUZyaWVuZDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhc2VGcmllbmRTdGF0ZShwZXQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNpdElkbGVTdGF0ZShwZXQpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTdGF0ZSB7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBzcHJpdGVMYWJlbDogc3RyaW5nO1xuICAgIGhvcml6b250YWxEaXJlY3Rpb246IEhvcml6b250YWxEaXJlY3Rpb247XG4gICAgcGV0OiBJUGV0VHlwZTtcbiAgICBuZXh0RnJhbWUoKTogRnJhbWVSZXN1bHQ7XG59XG5cbmNsYXNzIEFic3RyYWN0U3RhdGljU3RhdGUgaW1wbGVtZW50cyBJU3RhdGUge1xuICAgIGxhYmVsID0gU3RhdGVzLnNpdElkbGU7XG4gICAgaWRsZUNvdW50ZXI6IG51bWJlcjtcbiAgICBzcHJpdGVMYWJlbCA9ICdpZGxlJztcbiAgICBob2xkVGltZSA9IDUwO1xuICAgIHBldDogSVBldFR5cGU7XG5cbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xuXG4gICAgY29uc3RydWN0b3IocGV0OiBJUGV0VHlwZSkge1xuICAgICAgICB0aGlzLmlkbGVDb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5wZXQgPSBwZXQ7XG4gICAgfVxuXG4gICAgbmV4dEZyYW1lKCk6IEZyYW1lUmVzdWx0IHtcbiAgICAgICAgdGhpcy5pZGxlQ291bnRlcisrO1xuICAgICAgICBpZiAodGhpcy5pZGxlQ291bnRlciA+IHRoaXMuaG9sZFRpbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbXBsZXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbnRpbnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNpdElkbGVTdGF0ZSBleHRlbmRzIEFic3RyYWN0U3RhdGljU3RhdGUge1xuICAgIGxhYmVsID0gU3RhdGVzLnNpdElkbGU7XG4gICAgc3ByaXRlTGFiZWwgPSAnaWRsZSc7XG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ucmlnaHQ7XG4gICAgaG9sZFRpbWUgPSA1MDtcbn1cblxuZXhwb3J0IGNsYXNzIExpZVN0YXRlIGV4dGVuZHMgQWJzdHJhY3RTdGF0aWNTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMubGllO1xuICAgIHNwcml0ZUxhYmVsID0gJ2xpZSc7XG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ucmlnaHQ7XG4gICAgaG9sZFRpbWUgPSA1MDtcbn1cblxuZXhwb3J0IGNsYXNzIFdhbGxIYW5nTGVmdFN0YXRlIGV4dGVuZHMgQWJzdHJhY3RTdGF0aWNTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMud2FsbEhhbmdMZWZ0O1xuICAgIHNwcml0ZUxhYmVsID0gJ3dhbGxncmFiJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xuICAgIGhvbGRUaW1lID0gNTA7XG59XG5cbmV4cG9ydCBjbGFzcyBMYW5kU3RhdGUgZXh0ZW5kcyBBYnN0cmFjdFN0YXRpY1N0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy5sYW5kO1xuICAgIHNwcml0ZUxhYmVsID0gJ2xhbmQnO1xuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XG4gICAgaG9sZFRpbWUgPSAxMDtcbn1cblxuZXhwb3J0IGNsYXNzIFN3aXBlU3RhdGUgZXh0ZW5kcyBBYnN0cmFjdFN0YXRpY1N0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy5zd2lwZTtcbiAgICBzcHJpdGVMYWJlbCA9ICdzd2lwZSc7XG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubmF0dXJhbDtcbiAgICBob2xkVGltZSA9IDE1O1xufVxuXG5leHBvcnQgY2xhc3MgSWRsZVdpdGhCYWxsU3RhdGUgZXh0ZW5kcyBBYnN0cmFjdFN0YXRpY1N0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy5pZGxlV2l0aEJhbGw7XG4gICAgc3ByaXRlTGFiZWwgPSAnd2l0aF9iYWxsJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xuICAgIGhvbGRUaW1lID0gMzA7XG59XG5cbmV4cG9ydCBjbGFzcyBXYWxrUmlnaHRTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMud2Fsa1JpZ2h0O1xuICAgIHBldDogSVBldFR5cGU7XG4gICAgc3ByaXRlTGFiZWwgPSAnd2Fsayc7XG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ucmlnaHQ7XG4gICAgbGVmdEJvdW5kYXJ5OiBudW1iZXI7XG4gICAgc3BlZWRNdWx0aXBsaWVyID0gMTtcbiAgICBpZGxlQ291bnRlcjogbnVtYmVyO1xuICAgIGhvbGRUaW1lID0gNjA7XG5cbiAgICBjb25zdHJ1Y3RvcihwZXQ6IElQZXRUeXBlKSB7XG4gICAgICAgIHRoaXMubGVmdEJvdW5kYXJ5ID0gTWF0aC5mbG9vcih3aW5kb3cuaW5uZXJXaWR0aCAqIDAuOTUpO1xuICAgICAgICB0aGlzLnBldCA9IHBldDtcbiAgICAgICAgdGhpcy5pZGxlQ291bnRlciA9IDA7XG4gICAgfVxuXG4gICAgbmV4dEZyYW1lKCk6IEZyYW1lUmVzdWx0IHtcbiAgICAgICAgdGhpcy5pZGxlQ291bnRlcisrO1xuICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkxlZnQoXG4gICAgICAgICAgICB0aGlzLnBldC5sZWZ0KCkgKyB0aGlzLnBldC5zcGVlZCgpICogdGhpcy5zcGVlZE11bHRpcGxpZXIsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMucGV0LmlzTW92aW5nKCkgJiZcbiAgICAgICAgICAgIHRoaXMucGV0LmxlZnQoKSA+PSB0aGlzLmxlZnRCb3VuZGFyeSAtIHRoaXMucGV0LndpZHRoKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb21wbGV0ZTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5wZXQuaXNNb3ZpbmcoKSAmJiB0aGlzLmlkbGVDb3VudGVyID4gdGhpcy5ob2xkVGltZSkge1xuICAgICAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29tcGxldGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgV2Fsa0xlZnRTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMud2Fsa0xlZnQ7XG4gICAgc3ByaXRlTGFiZWwgPSAnd2Fsayc7XG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcbiAgICBwZXQ6IElQZXRUeXBlO1xuICAgIHNwZWVkTXVsdGlwbGllciA9IDE7XG4gICAgaWRsZUNvdW50ZXI6IG51bWJlcjtcbiAgICBob2xkVGltZSA9IDYwO1xuXG4gICAgY29uc3RydWN0b3IocGV0OiBJUGV0VHlwZSkge1xuICAgICAgICB0aGlzLnBldCA9IHBldDtcbiAgICAgICAgdGhpcy5pZGxlQ291bnRlciA9IDA7XG4gICAgfVxuXG4gICAgbmV4dEZyYW1lKCk6IEZyYW1lUmVzdWx0IHtcbiAgICAgICAgdGhpcy5wZXQucG9zaXRpb25MZWZ0KFxuICAgICAgICAgICAgdGhpcy5wZXQubGVmdCgpIC0gdGhpcy5wZXQuc3BlZWQoKSAqIHRoaXMuc3BlZWRNdWx0aXBsaWVyLFxuICAgICAgICApO1xuICAgICAgICBpZiAodGhpcy5wZXQuaXNNb3ZpbmcoKSAmJiB0aGlzLnBldC5sZWZ0KCkgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29tcGxldGU7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucGV0LmlzTW92aW5nKCkgJiYgdGhpcy5pZGxlQ291bnRlciA+IHRoaXMuaG9sZFRpbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbXBsZXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbnRpbnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJ1blJpZ2h0U3RhdGUgZXh0ZW5kcyBXYWxrUmlnaHRTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMucnVuUmlnaHQ7XG4gICAgc3ByaXRlTGFiZWwgPSAnd2Fsa19mYXN0JztcbiAgICBzcGVlZE11bHRpcGxpZXIgPSAxLjY7XG4gICAgaG9sZFRpbWUgPSAxMzA7XG59XG5cbmV4cG9ydCBjbGFzcyBSdW5MZWZ0U3RhdGUgZXh0ZW5kcyBXYWxrTGVmdFN0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy5ydW5MZWZ0O1xuICAgIHNwcml0ZUxhYmVsID0gJ3dhbGtfZmFzdCc7XG4gICAgc3BlZWRNdWx0aXBsaWVyID0gMS42O1xuICAgIGhvbGRUaW1lID0gMTMwO1xufVxuXG5leHBvcnQgY2xhc3MgQ2hhc2VTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMuY2hhc2U7XG4gICAgc3ByaXRlTGFiZWwgPSAncnVuJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xuICAgIGJhbGxTdGF0ZTogQmFsbFN0YXRlO1xuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcGV0OiBJUGV0VHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwZXQ6IElQZXRUeXBlLFxuICAgICAgICBiYWxsU3RhdGU6IEJhbGxTdGF0ZSxcbiAgICAgICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCxcbiAgICApIHtcbiAgICAgICAgdGhpcy5wZXQgPSBwZXQ7XG4gICAgICAgIHRoaXMuYmFsbFN0YXRlID0gYmFsbFN0YXRlO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICB9XG5cbiAgICBuZXh0RnJhbWUoKTogRnJhbWVSZXN1bHQge1xuICAgICAgICBpZiAodGhpcy5iYWxsU3RhdGUucGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDYW5jZWw7IC8vIEJhbGwgaXMgYWxyZWFkeSBjYXVnaHRcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wZXQubGVmdCgpID4gdGhpcy5iYWxsU3RhdGUuY3gpIHtcbiAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcbiAgICAgICAgICAgIHRoaXMucGV0LnBvc2l0aW9uTGVmdCh0aGlzLnBldC5sZWZ0KCkgLSB0aGlzLnBldC5zcGVlZCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ucmlnaHQ7XG4gICAgICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkxlZnQodGhpcy5wZXQubGVmdCgpICsgdGhpcy5wZXQuc3BlZWQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLSB0aGlzLmJhbGxTdGF0ZS5jeSA8XG4gICAgICAgICAgICAgICAgdGhpcy5wZXQud2lkdGgoKSArIHRoaXMucGV0LmZsb29yKCkgJiZcbiAgICAgICAgICAgIHRoaXMuYmFsbFN0YXRlLmN4IDwgdGhpcy5wZXQubGVmdCgpICYmXG4gICAgICAgICAgICB0aGlzLnBldC5sZWZ0KCkgPCB0aGlzLmJhbGxTdGF0ZS5jeCArIDE1XG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8gaGlkZSBiYWxsXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5iYWxsU3RhdGUucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbXBsZXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbnRpbnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoYXNlRnJpZW5kU3RhdGUgaW1wbGVtZW50cyBJU3RhdGUge1xuICAgIGxhYmVsID0gU3RhdGVzLmNoYXNlRnJpZW5kO1xuICAgIHNwcml0ZUxhYmVsID0gJ3J1bic7XG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcbiAgICBwZXQ6IElQZXRUeXBlO1xuXG4gICAgY29uc3RydWN0b3IocGV0OiBJUGV0VHlwZSkge1xuICAgICAgICB0aGlzLnBldCA9IHBldDtcbiAgICB9XG5cbiAgICBuZXh0RnJhbWUoKTogRnJhbWVSZXN1bHQge1xuICAgICAgICBpZiAoIXRoaXMucGV0LmZyaWVuZCgpLmlzUGxheWluZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDYW5jZWw7IC8vIEZyaWVuZCBpcyBubyBsb25nZXIgcGxheWluZy5cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wZXQubGVmdCgpID4gdGhpcy5wZXQuZnJpZW5kKCkubGVmdCgpKSB7XG4gICAgICAgICAgICB0aGlzLmhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XG4gICAgICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkxlZnQodGhpcy5wZXQubGVmdCgpIC0gdGhpcy5wZXQuc3BlZWQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLnJpZ2h0O1xuICAgICAgICAgICAgdGhpcy5wZXQucG9zaXRpb25MZWZ0KHRoaXMucGV0LmxlZnQoKSArIHRoaXMucGV0LnNwZWVkKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xpbWJXYWxsTGVmdFN0YXRlIGltcGxlbWVudHMgSVN0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy5jbGltYldhbGxMZWZ0O1xuICAgIHNwcml0ZUxhYmVsID0gJ3dhbGxjbGltYic7XG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcbiAgICBwZXQ6IElQZXRUeXBlO1xuXG4gICAgY29uc3RydWN0b3IocGV0OiBJUGV0VHlwZSkge1xuICAgICAgICB0aGlzLnBldCA9IHBldDtcbiAgICB9XG5cbiAgICBuZXh0RnJhbWUoKTogRnJhbWVSZXN1bHQge1xuICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkJvdHRvbSh0aGlzLnBldC5ib3R0b20oKSArIDEpO1xuICAgICAgICBpZiAodGhpcy5wZXQuYm90dG9tKCkgPj0gMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb21wbGV0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb250aW51ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBKdW1wRG93bkxlZnRTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMuanVtcERvd25MZWZ0O1xuICAgIHNwcml0ZUxhYmVsID0gJ2ZhbGxfZnJvbV9ncmFiJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5yaWdodDtcbiAgICBwZXQ6IElQZXRUeXBlO1xuXG4gICAgY29uc3RydWN0b3IocGV0OiBJUGV0VHlwZSkge1xuICAgICAgICB0aGlzLnBldCA9IHBldDtcbiAgICB9XG5cbiAgICBuZXh0RnJhbWUoKTogRnJhbWVSZXN1bHQge1xuICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkJvdHRvbSh0aGlzLnBldC5ib3R0b20oKSAtIDUpO1xuICAgICAgICBpZiAodGhpcy5wZXQuYm90dG9tKCkgPD0gdGhpcy5wZXQuZmxvb3IoKSkge1xuICAgICAgICAgICAgdGhpcy5wZXQucG9zaXRpb25Cb3R0b20odGhpcy5wZXQuZmxvb3IoKSk7XG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb21wbGV0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb250aW51ZTtcbiAgICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvcGFuZWwvbWFpbi50c1wiKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=